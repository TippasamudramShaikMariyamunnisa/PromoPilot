2025-09-29 12:08:06.476 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 12:08:06.771 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 12:08:06.775 +05:30 [INF] Hosting environment: Development
2025-09-29 12:08:06.795 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 12:08:10.837 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 12:08:11.193 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 279.9981 ms
2025-09-29 12:08:11.209 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 374.8152ms
2025-09-29 12:08:11.296 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 12:08:11.320 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 25.0031ms
2025-09-29 12:08:12.709 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 12:08:12.796 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 79.5977 ms
2025-09-29 12:08:12.805 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.1824ms
2025-09-29 12:08:34.865 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Campaign/plan - application/json 145
2025-09-29 12:08:34.887 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 12:08:34.896 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:08:35.024 +05:30 [INF] Processing request: /api/Campaign/plan
2025-09-29 12:08:35.032 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignController.PlanCampaign (PromoPilot.API)'
2025-09-29 12:08:35.113 +05:30 [INF] Route matched with {action = "PlanCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PlanCampaign(PromoPilot.Application.DTOs.CampaignDto) on controller PromoPilot.API.Controllers.CampaignController (PromoPilot.API).
2025-09-29 12:08:43.983 +05:30 [INF] Executed DbCommand (934ms) [Parameters=[@__endDate_0='?' (DbType = DateTime2), @__startDate_1='?' (DbType = DateTime2), @__storeList_2='?' (Size = 4000), @__productList_3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Campaign] AS [c]
        WHERE [c].[StartDate] <= @__endDate_0 AND [c].[EndDate] >= @__startDate_1 AND EXISTS (
            SELECT 1
            FROM OPENJSON(@__storeList_2) WITH ([value] nvarchar(max) '$') AS [s]
            WHERE [s].[value] IS NOT NULL AND (CHARINDEX([s].[value], [c].[StoreList]) > 0 OR [s].[value] LIKE N'')) AND EXISTS (
            SELECT 1
            FROM OPENJSON(@__productList_3) WITH ([value] nvarchar(max) '$') AS [p]
            WHERE [p].[value] IS NOT NULL AND (CHARINDEX([p].[value], [c].[TargetProducts]) > 0 OR [p].[value] LIKE N''))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 12:08:44.197 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__name_0='?' (Size = 4000), @__start_1='?' (DbType = DateTime2), @__end_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[Name] = @__name_0 AND [c].[StartDate] = @__start_1 AND [c].[EndDate] = @__end_2
2025-09-29 12:08:44.720 +05:30 [INF] Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Campaign] ([EndDate], [Name], [StartDate], [StoreList], [TargetProducts])
OUTPUT INSERTED.[CampaignID]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-29 12:08:44.799 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'PromoPilot.Application.DTOs.CampaignDto'.
2025-09-29 12:08:44.847 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignController.PlanCampaign (PromoPilot.API) in 9723.4174ms
2025-09-29 12:08:44.851 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignController.PlanCampaign (PromoPilot.API)'
2025-09-29 12:08:44.854 +05:30 [INF] Request processed successfully.
2025-09-29 12:08:44.857 +05:30 [INF] HTTP POST /api/Campaign/plan responded 201 in 9980.3348 ms
2025-09-29 12:08:44.872 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Campaign/plan - 201 null application/json; charset=utf-8 10006.8702ms
2025-09-29 12:08:57.465 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Campaign/plan - application/json 137
2025-09-29 12:08:57.473 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:08:57.482 +05:30 [INF] Processing request: /api/Campaign/plan
2025-09-29 12:08:57.485 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignController.PlanCampaign (PromoPilot.API)'
2025-09-29 12:08:57.490 +05:30 [INF] Route matched with {action = "PlanCampaign", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PlanCampaign(PromoPilot.Application.DTOs.CampaignDto) on controller PromoPilot.API.Controllers.CampaignController (PromoPilot.API).
2025-09-29 12:08:57.609 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[@__endDate_0='?' (DbType = DateTime2), @__startDate_1='?' (DbType = DateTime2), @__storeList_2='?' (Size = 4000), @__productList_3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Campaign] AS [c]
        WHERE [c].[StartDate] <= @__endDate_0 AND [c].[EndDate] >= @__startDate_1 AND EXISTS (
            SELECT 1
            FROM OPENJSON(@__storeList_2) WITH ([value] nvarchar(max) '$') AS [s]
            WHERE [s].[value] IS NOT NULL AND (CHARINDEX([s].[value], [c].[StoreList]) > 0 OR [s].[value] LIKE N'')) AND EXISTS (
            SELECT 1
            FROM OPENJSON(@__productList_3) WITH ([value] nvarchar(max) '$') AS [p]
            WHERE [p].[value] IS NOT NULL AND (CHARINDEX([p].[value], [c].[TargetProducts]) > 0 OR [p].[value] LIKE N''))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 12:08:57.854 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignController.PlanCampaign (PromoPilot.API) in 358.1077ms
2025-09-29 12:08:57.865 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignController.PlanCampaign (PromoPilot.API)'
2025-09-29 12:08:58.042 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Campaign/plan
System.InvalidOperationException: Overlapping campaign exists for the selected products and stores.
   at CampaignService.AddAsync(CampaignDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\Services\CampaignService.cs:line 40
   at PromoPilot.Application.UseCases.Campaigns.PlanCampaignUseCase.ExecuteAsync(CampaignDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\UseCases\Campaigns\PlanCampaignUseCase.cs:line 18
   at PromoPilot.API.Controllers.CampaignController.PlanCampaign(CampaignDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\CampaignController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-29 12:08:58.168 +05:30 [ERR] HTTP POST /api/Campaign/plan responded 500 in 695.5796 ms
2025-09-29 12:08:58.172 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Campaign/plan - 500 null application/json 706.5004ms
2025-09-29 12:12:03.425 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Budget - application/json 92
2025-09-29 12:12:03.451 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:12:03.456 +05:30 [INF] Processing request: /api/Budget
2025-09-29 12:12:03.460 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:12:03.472 +05:30 [INF] Route matched with {action = "Add", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:12:03.516 +05:30 [INF] Allocating budget for CampaignID: 22, StoreID: 102
2025-09-29 12:12:03.650 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Budget] ([AllocatedAmount], [CampaignID], [SpentAmount], [StoreID])
OUTPUT INSERTED.[BudgetID]
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 12:12:03.659 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'PromoPilot.Application.DTOs.BudgetDto'.
2025-09-29 12:12:03.670 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API) in 193.212ms
2025-09-29 12:12:03.672 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:12:03.673 +05:30 [INF] Request processed successfully.
2025-09-29 12:12:03.674 +05:30 [INF] HTTP POST /api/Budget responded 201 in 224.4802 ms
2025-09-29 12:12:03.679 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Budget - 201 null application/json; charset=utf-8 254.2078ms
2025-09-29 12:18:50.299 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 12:18:50.467 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 12:18:50.470 +05:30 [INF] Hosting environment: Development
2025-09-29 12:18:50.473 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 12:18:52.250 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 12:18:52.371 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 88.3875 ms
2025-09-29 12:18:52.384 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 135.4286ms
2025-09-29 12:18:52.395 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 12:18:52.405 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 9.7603ms
2025-09-29 12:18:52.472 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 12:18:52.505 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 26.5588 ms
2025-09-29 12:18:52.509 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.7798ms
2025-09-29 12:19:21.011 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Budget - application/json 92
2025-09-29 12:19:21.027 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 12:19:21.032 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:19:21.076 +05:30 [INF] Processing request: /api/Budget
2025-09-29 12:19:21.087 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:19:21.118 +05:30 [INF] Route matched with {action = "Add", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:19:22.848 +05:30 [INF] Allocating budget for CampaignID: 22, StoreID: 102
2025-09-29 12:19:27.300 +05:30 [INF] Executed DbCommand (279ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Budget] ([AllocatedAmount], [CampaignID], [SpentAmount], [StoreID])
OUTPUT INSERTED.[BudgetID]
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 12:19:27.442 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'PromoPilot.Application.DTOs.BudgetDto'.
2025-09-29 12:19:27.514 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API) in 6388.2269ms
2025-09-29 12:19:27.518 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:19:27.520 +05:30 [INF] Request processed successfully.
2025-09-29 12:19:27.522 +05:30 [INF] HTTP POST /api/Budget responded 201 in 6501.2768 ms
2025-09-29 12:19:27.532 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Budget - 201 null application/json; charset=utf-8 6521.5126ms
2025-09-29 12:32:41.617 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 12:32:41.938 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 12:32:41.955 +05:30 [INF] Hosting environment: Development
2025-09-29 12:32:41.959 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 12:32:43.575 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 12:32:43.714 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 100.5755 ms
2025-09-29 12:32:43.719 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 12:32:43.728 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 156.6061ms
2025-09-29 12:32:43.733 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 14.5181ms
2025-09-29 12:32:43.808 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 12:32:43.844 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 30.0788 ms
2025-09-29 12:32:43.848 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 39.4027ms
2025-09-29 12:33:20.854 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5145/api/Budget/1 - application/json 109
2025-09-29 12:33:20.871 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 12:33:20.876 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:33:20.942 +05:30 [INF] Processing request: /api/Budget/1
2025-09-29 12:33:20.950 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:33:21.023 +05:30 [INF] Route matched with {action = "Update", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:33:22.706 +05:30 [INF] Retrieving budget allocation for ID: 1
2025-09-29 12:33:27.546 +05:30 [INF] Executed DbCommand (366ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
WHERE [b].[BudgetID] = @__p_0
2025-09-29 12:33:27.615 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 12:33:27.654 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API) in 6618.717ms
2025-09-29 12:33:27.657 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:33:27.659 +05:30 [INF] Request processed successfully.
2025-09-29 12:33:27.661 +05:30 [INF] HTTP PUT /api/Budget/1 responded 404 in 6798.6994 ms
2025-09-29 12:33:27.672 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5145/api/Budget/1 - 404 null application/problem+json; charset=utf-8 6818.4901ms
2025-09-29 12:33:37.374 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5145/api/Budget/7 - application/json 109
2025-09-29 12:33:37.385 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:33:37.398 +05:30 [INF] Processing request: /api/Budget/7
2025-09-29 12:33:37.402 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:33:37.407 +05:30 [INF] Route matched with {action = "Update", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:33:37.426 +05:30 [INF] Retrieving budget allocation for ID: 7
2025-09-29 12:33:37.468 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
WHERE [b].[BudgetID] = @__p_0
2025-09-29 12:33:37.472 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 12:33:37.474 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API) in 56.6795ms
2025-09-29 12:33:37.476 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:33:37.477 +05:30 [INF] Request processed successfully.
2025-09-29 12:33:37.478 +05:30 [INF] HTTP PUT /api/Budget/7 responded 404 in 94.0340 ms
2025-09-29 12:33:37.480 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5145/api/Budget/7 - 404 null application/problem+json; charset=utf-8 105.9315ms
2025-09-29 12:33:46.152 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Budget - null null
2025-09-29 12:33:46.167 +05:30 [INF] Processing request: /api/Budget
2025-09-29 12:33:46.168 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API)'
2025-09-29 12:33:46.177 +05:30 [INF] Route matched with {action = "GetAll", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:33:46.193 +05:30 [INF] Retrieving all budget allocations.
2025-09-29 12:33:46.270 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
2025-09-29 12:33:46.337 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PromoPilot.Application.DTOs.BudgetDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 12:33:46.346 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API) in 167.4138ms
2025-09-29 12:33:46.350 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API)'
2025-09-29 12:33:46.352 +05:30 [INF] Request processed successfully.
2025-09-29 12:33:46.353 +05:30 [INF] HTTP GET /api/Budget responded 200 in 188.2041 ms
2025-09-29 12:33:46.355 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Budget - 200 null application/json; charset=utf-8 202.8553ms
2025-09-29 12:33:58.030 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5145/api/Budget/12 - application/json 110
2025-09-29 12:33:58.035 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:33:58.036 +05:30 [INF] Processing request: /api/Budget/12
2025-09-29 12:33:58.039 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:33:58.041 +05:30 [INF] Route matched with {action = "Update", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:33:58.046 +05:30 [INF] Retrieving budget allocation for ID: 12
2025-09-29 12:33:58.058 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
WHERE [b].[BudgetID] = @__p_0
2025-09-29 12:33:58.071 +05:30 [INF] Tracking spend for BudgetID: 12
2025-09-29 12:33:58.279 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Budget] SET [AllocatedAmount] = @p0, [CampaignID] = @p1, [SpentAmount] = @p2, [StoreID] = @p3
OUTPUT 1
WHERE [BudgetID] = @p4;
2025-09-29 12:33:58.328 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'PromoPilot.Infrastructure.Data.PromoPilotDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Budget_Campaign_CampaignID". The conflict occurred in database "PromoPilotDB", table "dbo.Campaign", column 'CampaignID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:722c2874-a36c-4ca2-842b-31c24d642e0e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Budget_Campaign_CampaignID". The conflict occurred in database "PromoPilotDB", table "dbo.Campaign", column 'CampaignID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:722c2874-a36c-4ca2-842b-31c24d642e0e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-29 12:33:58.734 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API) in 688.6079ms
2025-09-29 12:33:58.738 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:33:58.871 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Budget/12
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Budget_Campaign_CampaignID". The conflict occurred in database "PromoPilotDB", table "dbo.Campaign", column 'CampaignID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:722c2874-a36c-4ca2-842b-31c24d642e0e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PromoPilot.Infrastructure.Repositories.BudgetRepository.UpdateAsync(Budget budget) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Repositories\BudgetRepository.cs:line 28
   at PromoPilot.Application.Services.BudgetService.TrackBudgetSpendAsync(Budget budget) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\Services\BudgetService.cs:line 44
   at PromoPilot.Application.UseCases.Budgets.UpdateBudgetUseCase.ExecuteAsync(Int32 id, BudgetDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\UseCases\Budgets\CreateBudgetUseCase.cs:line 83
   at PromoPilot.API.Controllers.BudgetController.Update(Int32 id, BudgetDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\BudgetController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-29 12:33:59.021 +05:30 [ERR] HTTP PUT /api/Budget/12 responded 500 in 985.3956 ms
2025-09-29 12:33:59.024 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5145/api/Budget/12 - 500 null application/json 994.2298ms
2025-09-29 12:34:46.973 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Budget - application/json 89
2025-09-29 12:34:46.985 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:34:46.986 +05:30 [INF] Processing request: /api/Budget
2025-09-29 12:34:46.988 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:34:46.998 +05:30 [INF] Route matched with {action = "Add", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:34:47.009 +05:30 [INF] Allocating budget for CampaignID: 2, StoreID: 102
2025-09-29 12:34:47.085 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Budget] ([AllocatedAmount], [CampaignID], [SpentAmount], [StoreID])
OUTPUT INSERTED.[BudgetID]
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 12:34:47.100 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'PromoPilot.Infrastructure.Data.PromoPilotDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Budget_Campaign_CampaignID". The conflict occurred in database "PromoPilotDB", table "dbo.Campaign", column 'CampaignID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:722c2874-a36c-4ca2-842b-31c24d642e0e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Budget_Campaign_CampaignID". The conflict occurred in database "PromoPilotDB", table "dbo.Campaign", column 'CampaignID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:722c2874-a36c-4ca2-842b-31c24d642e0e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-29 12:34:47.420 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API) in 419.431ms
2025-09-29 12:34:47.422 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:34:47.543 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Budget
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Budget_Campaign_CampaignID". The conflict occurred in database "PromoPilotDB", table "dbo.Campaign", column 'CampaignID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:722c2874-a36c-4ca2-842b-31c24d642e0e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PromoPilot.Infrastructure.Repositories.BudgetRepository.AddAsync(Budget budget) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Repositories\BudgetRepository.cs:line 23
   at PromoPilot.Application.Services.BudgetService.AllocateBudgetAsync(Budget budget) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\Services\BudgetService.cs:line 38
   at PromoPilot.Application.UseCases.Budgets.CreateBudgetUseCase.ExecuteAsync(BudgetDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\UseCases\Budgets\CreateBudgetUseCase.cs:line 22
   at PromoPilot.API.Controllers.BudgetController.Add(BudgetDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\BudgetController.cs:line 68
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-29 12:34:47.565 +05:30 [ERR] HTTP POST /api/Budget responded 500 in 580.4780 ms
2025-09-29 12:34:47.569 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Budget - 500 null application/json 595.9996ms
2025-09-29 12:46:13.969 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 12:46:14.308 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 12:46:14.310 +05:30 [INF] Hosting environment: Development
2025-09-29 12:46:14.312 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 12:46:15.188 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 12:46:15.349 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 90.9856 ms
2025-09-29 12:46:15.357 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 172.1313ms
2025-09-29 12:46:15.369 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 12:46:15.377 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 9.1925ms
2025-09-29 12:46:15.463 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 12:46:15.496 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 27.5848 ms
2025-09-29 12:46:15.500 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 37.5537ms
2025-09-29 12:48:04.337 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Budget - application/json 89
2025-09-29 12:48:04.354 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 12:48:04.357 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:48:04.423 +05:30 [INF] Processing request: /api/Budget
2025-09-29 12:48:04.435 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:48:04.481 +05:30 [INF] Route matched with {action = "Add", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:48:05.957 +05:30 [INF] Allocating budget for CampaignID: 2, StoreID: 101
2025-09-29 12:48:09.848 +05:30 [INF] Executed DbCommand (226ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Budget] ([AllocatedAmount], [CampaignID], [SpentAmount], [StoreID])
OUTPUT INSERTED.[BudgetID]
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 12:48:09.942 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'PromoPilot.Infrastructure.Data.PromoPilotDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Budget_Campaign_CampaignID". The conflict occurred in database "PromoPilotDB", table "dbo.Campaign", column 'CampaignID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4c427091-6333-4902-9cc0-3bba51e4fab7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Budget_Campaign_CampaignID". The conflict occurred in database "PromoPilotDB", table "dbo.Campaign", column 'CampaignID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4c427091-6333-4902-9cc0-3bba51e4fab7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-29 12:48:10.282 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API) in 5793.6699ms
2025-09-29 12:48:10.286 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:48:10.397 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Budget
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Budget_Campaign_CampaignID". The conflict occurred in database "PromoPilotDB", table "dbo.Campaign", column 'CampaignID'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4c427091-6333-4902-9cc0-3bba51e4fab7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PromoPilot.Infrastructure.Repositories.BudgetRepository.AddAsync(Budget budget) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Repositories\BudgetRepository.cs:line 23
   at PromoPilot.Application.Services.BudgetService.AllocateBudgetAsync(Budget budget) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\Services\BudgetService.cs:line 44
   at PromoPilot.Application.UseCases.Budgets.CreateBudgetUseCase.ExecuteAsync(BudgetDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\UseCases\Budgets\CreateBudgetUseCase.cs:line 22
   at PromoPilot.API.Controllers.BudgetController.Add(BudgetDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\BudgetController.cs:line 70
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-29 12:48:10.517 +05:30 [ERR] HTTP POST /api/Budget responded 500 in 6168.4734 ms
2025-09-29 12:48:10.529 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Budget - 500 null application/json 6192.5414ms
2025-09-29 12:49:07.327 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Budget - null null
2025-09-29 12:49:07.349 +05:30 [INF] Processing request: /api/Budget
2025-09-29 12:49:07.353 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API)'
2025-09-29 12:49:07.366 +05:30 [INF] Route matched with {action = "GetAll", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:49:07.397 +05:30 [INF] Retrieving all budget allocations.
2025-09-29 12:49:08.120 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
2025-09-29 12:49:08.172 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PromoPilot.Application.DTOs.BudgetDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 12:49:08.183 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API) in 806.9028ms
2025-09-29 12:49:08.187 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API)'
2025-09-29 12:49:08.190 +05:30 [INF] Request processed successfully.
2025-09-29 12:49:08.193 +05:30 [INF] HTTP GET /api/Budget responded 200 in 848.9017 ms
2025-09-29 12:49:08.196 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Budget - 200 null application/json; charset=utf-8 869.2911ms
2025-09-29 12:49:22.631 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Campaign - null null
2025-09-29 12:49:22.640 +05:30 [INF] Processing request: /api/Campaign
2025-09-29 12:49:22.642 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignController.GetAllCampaigns (PromoPilot.API)'
2025-09-29 12:49:22.649 +05:30 [INF] Route matched with {action = "GetAllCampaigns", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCampaigns() on controller PromoPilot.API.Controllers.CampaignController (PromoPilot.API).
2025-09-29 12:49:22.695 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
2025-09-29 12:49:22.741 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PromoPilot.Application.DTOs.CampaignDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 12:49:22.753 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignController.GetAllCampaigns (PromoPilot.API) in 100.1099ms
2025-09-29 12:49:22.757 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignController.GetAllCampaigns (PromoPilot.API)'
2025-09-29 12:49:22.758 +05:30 [INF] Request processed successfully.
2025-09-29 12:49:22.759 +05:30 [INF] HTTP GET /api/Campaign responded 200 in 120.4515 ms
2025-09-29 12:49:22.761 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Campaign - 200 null application/json; charset=utf-8 129.7108ms
2025-09-29 12:49:35.094 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Budget - application/json 89
2025-09-29 12:49:35.096 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:49:35.097 +05:30 [INF] Processing request: /api/Budget
2025-09-29 12:49:35.098 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:49:35.100 +05:30 [INF] Route matched with {action = "Add", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:49:35.112 +05:30 [INF] Allocating budget for CampaignID: 7, StoreID: 101
2025-09-29 12:49:35.126 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Budget] ([AllocatedAmount], [CampaignID], [SpentAmount], [StoreID])
OUTPUT INSERTED.[BudgetID]
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 12:49:35.152 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'PromoPilot.Application.DTOs.BudgetDto'.
2025-09-29 12:49:35.186 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API) in 83.5409ms
2025-09-29 12:49:35.190 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:49:35.191 +05:30 [INF] Request processed successfully.
2025-09-29 12:49:35.192 +05:30 [INF] HTTP POST /api/Budget responded 201 in 95.6918 ms
2025-09-29 12:49:35.194 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Budget - 201 null application/json; charset=utf-8 99.6951ms
2025-09-29 12:50:03.642 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Budget - application/json 90
2025-09-29 12:50:03.650 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:50:03.654 +05:30 [INF] Processing request: /api/Budget
2025-09-29 12:50:03.656 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:50:03.658 +05:30 [INF] Route matched with {action = "Add", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:50:03.661 +05:30 [WRN] Validation failed during budget creation: SpentAmount (1500) exceeds AllocatedAmount (1000)
2025-09-29 12:50:03.825 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 12:50:03.831 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API) in 171.2966ms
2025-09-29 12:50:03.834 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Add (PromoPilot.API)'
2025-09-29 12:50:03.836 +05:30 [INF] Request processed successfully.
2025-09-29 12:50:03.838 +05:30 [INF] HTTP POST /api/Budget responded 400 in 187.9740 ms
2025-09-29 12:50:03.842 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Budget - 400 null application/json; charset=utf-8 199.5771ms
2025-09-29 12:50:54.568 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5145/api/Budget/7 - application/json 90
2025-09-29 12:50:54.575 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:50:54.578 +05:30 [INF] Processing request: /api/Budget/7
2025-09-29 12:50:54.579 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:50:54.587 +05:30 [INF] Route matched with {action = "Update", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:50:54.747 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
WHERE [b].[BudgetID] = @__p_0
2025-09-29 12:50:54.753 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 12:50:54.777 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API) in 185.6654ms
2025-09-29 12:50:54.780 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:50:54.783 +05:30 [INF] Request processed successfully.
2025-09-29 12:50:54.784 +05:30 [INF] HTTP PUT /api/Budget/7 responded 404 in 209.1266 ms
2025-09-29 12:50:54.787 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5145/api/Budget/7 - 404 null application/problem+json; charset=utf-8 218.7933ms
2025-09-29 12:51:33.965 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5145/api/Budget/22 - application/json 107
2025-09-29 12:51:33.969 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:51:33.970 +05:30 [INF] Processing request: /api/Budget/22
2025-09-29 12:51:33.972 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:51:33.974 +05:30 [INF] Route matched with {action = "Update", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:51:34.020 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
WHERE [b].[BudgetID] = @__p_0
2025-09-29 12:51:34.028 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 12:51:34.030 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API) in 51.6262ms
2025-09-29 12:51:34.031 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:51:34.032 +05:30 [INF] Request processed successfully.
2025-09-29 12:51:34.033 +05:30 [INF] HTTP PUT /api/Budget/22 responded 404 in 63.9984 ms
2025-09-29 12:51:34.036 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5145/api/Budget/22 - 404 null application/problem+json; charset=utf-8 71.1171ms
2025-09-29 12:52:00.513 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5145/api/Budget/22 - application/json 107
2025-09-29 12:52:00.544 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:52:00.546 +05:30 [INF] Processing request: /api/Budget/22
2025-09-29 12:52:00.548 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:52:00.550 +05:30 [INF] Route matched with {action = "Update", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:52:00.595 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
WHERE [b].[BudgetID] = @__p_0
2025-09-29 12:52:00.602 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 12:52:00.609 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API) in 55.6404ms
2025-09-29 12:52:00.611 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:52:00.612 +05:30 [INF] Request processed successfully.
2025-09-29 12:52:00.613 +05:30 [INF] HTTP PUT /api/Budget/22 responded 404 in 69.2848 ms
2025-09-29 12:52:00.617 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5145/api/Budget/22 - 404 null application/problem+json; charset=utf-8 103.9148ms
2025-09-29 12:52:03.728 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5145/api/Budget/22 - application/json 107
2025-09-29 12:52:03.733 +05:30 [INF] CORS policy execution successful.
2025-09-29 12:52:03.734 +05:30 [INF] Processing request: /api/Budget/22
2025-09-29 12:52:03.735 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:52:03.737 +05:30 [INF] Route matched with {action = "Update", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 12:52:03.750 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
WHERE [b].[BudgetID] = @__p_0
2025-09-29 12:52:03.764 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 12:52:03.766 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API) in 22.8216ms
2025-09-29 12:52:03.769 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 12:52:03.775 +05:30 [INF] Request processed successfully.
2025-09-29 12:52:03.777 +05:30 [INF] HTTP PUT /api/Budget/22 responded 404 in 44.1863 ms
2025-09-29 12:52:03.779 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5145/api/Budget/22 - 404 null application/problem+json; charset=utf-8 51.6521ms
2025-09-29 13:03:55.812 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5145/api/Budget/22 - application/json 107
2025-09-29 13:03:55.825 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:03:55.828 +05:30 [INF] Processing request: /api/Budget/22
2025-09-29 13:03:55.832 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 13:03:55.838 +05:30 [INF] Route matched with {action = "Update", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 13:03:55.874 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
WHERE [b].[BudgetID] = @__p_0
2025-09-29 13:03:55.886 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-09-29 13:03:55.892 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API) in 42.8546ms
2025-09-29 13:03:55.898 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 13:03:55.904 +05:30 [INF] Request processed successfully.
2025-09-29 13:03:55.907 +05:30 [INF] HTTP PUT /api/Budget/22 responded 404 in 82.8506 ms
2025-09-29 13:03:55.916 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5145/api/Budget/22 - 404 null application/problem+json; charset=utf-8 103.7146ms
2025-09-29 13:04:17.377 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Budget - null null
2025-09-29 13:04:17.400 +05:30 [INF] Processing request: /api/Budget
2025-09-29 13:04:17.405 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API)'
2025-09-29 13:04:17.410 +05:30 [INF] Route matched with {action = "GetAll", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 13:04:17.420 +05:30 [INF] Retrieving all budget allocations.
2025-09-29 13:04:17.435 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
2025-09-29 13:04:17.457 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PromoPilot.Application.DTOs.BudgetDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 13:04:17.464 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API) in 45.716ms
2025-09-29 13:04:17.472 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API)'
2025-09-29 13:04:17.479 +05:30 [INF] Request processed successfully.
2025-09-29 13:04:17.485 +05:30 [INF] HTTP GET /api/Budget responded 200 in 84.6999 ms
2025-09-29 13:04:17.497 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Budget - 200 null application/json; charset=utf-8 119.6636ms
2025-09-29 13:04:28.511 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5145/api/Budget/12 - application/json 107
2025-09-29 13:04:28.529 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:04:28.535 +05:30 [INF] Processing request: /api/Budget/12
2025-09-29 13:04:28.543 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 13:04:28.548 +05:30 [INF] Route matched with {action = "Update", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(Int32, PromoPilot.Application.DTOs.BudgetDto) on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 13:04:28.577 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
WHERE [b].[BudgetID] = @__p_0
2025-09-29 13:04:28.666 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Budget] SET [AllocatedAmount] = @p0, [CampaignID] = @p1, [SpentAmount] = @p2, [StoreID] = @p3
OUTPUT 1
WHERE [BudgetID] = @p4;
2025-09-29 13:04:28.683 +05:30 [INF] Executing OkObjectResult, writing value of type 'PromoPilot.Application.DTOs.BudgetDto'.
2025-09-29 13:04:28.690 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API) in 132.9837ms
2025-09-29 13:04:28.696 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.Update (PromoPilot.API)'
2025-09-29 13:04:28.702 +05:30 [INF] Request processed successfully.
2025-09-29 13:04:28.706 +05:30 [INF] HTTP PUT /api/Budget/12 responded 200 in 176.7438 ms
2025-09-29 13:04:28.714 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5145/api/Budget/12 - 200 null application/json; charset=utf-8 203.4975ms
2025-09-29 13:33:56.598 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 13:33:57.101 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 13:33:57.113 +05:30 [INF] Hosting environment: Development
2025-09-29 13:33:57.123 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 13:33:58.799 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 13:33:59.138 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 234.8443 ms
2025-09-29 13:33:59.154 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 13:33:59.158 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 364.6457ms
2025-09-29 13:33:59.170 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 17.6958ms
2025-09-29 13:33:59.280 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 13:33:59.354 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 62.0203 ms
2025-09-29 13:33:59.363 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.7903ms
2025-09-29 13:34:13.050 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/ExecutionStatus - application/json 143
2025-09-29 13:34:13.079 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 13:34:13.084 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:34:13.187 +05:30 [INF] Processing request: /api/ExecutionStatus
2025-09-29 13:34:13.199 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API)'
2025-09-29 13:34:13.299 +05:30 [INF] Route matched with {action = "Add", controller = "ExecutionStatus"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(ExecutionStatusDto) on controller PromoPilot.API.Controllers.ExecutionStatusController (PromoPilot.API).
2025-09-29 13:34:16.131 +05:30 [INF] Creating new execution status.
2025-09-29 13:34:24.407 +05:30 [INF] Executed DbCommand (429ms) [Parameters=[@__campaignId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Campaign] AS [c]
        WHERE [c].[CampaignID] = @__campaignId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 13:34:24.525 +05:30 [INF] Adding new execution status.
2025-09-29 13:34:25.177 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ExecutionStatus] ([CampaignID], [Feedback], [Status], [StoreID])
OUTPUT INSERTED.[StatusID]
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 13:34:25.332 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'ExecutionStatusDto'.
2025-09-29 13:34:25.451 +05:30 [INF] Executed action PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API) in 12123.7013ms
2025-09-29 13:34:25.465 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API)'
2025-09-29 13:34:25.476 +05:30 [INF] Request processed successfully.
2025-09-29 13:34:25.490 +05:30 [INF] HTTP POST /api/ExecutionStatus responded 201 in 12422.0879 ms
2025-09-29 13:34:25.530 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/ExecutionStatus - 201 null application/json; charset=utf-8 12480.6162ms
2025-09-29 13:35:05.644 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/ExecutionStatus - application/json 99
2025-09-29 13:35:05.705 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:35:05.717 +05:30 [INF] Processing request: /api/ExecutionStatus
2025-09-29 13:35:05.725 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API)'
2025-09-29 13:35:05.733 +05:30 [INF] Route matched with {action = "Add", controller = "ExecutionStatus"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(ExecutionStatusDto) on controller PromoPilot.API.Controllers.ExecutionStatusController (PromoPilot.API).
2025-09-29 13:35:05.776 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 13:35:05.842 +05:30 [INF] Executed action PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API) in 94.2977ms
2025-09-29 13:35:05.851 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API)'
2025-09-29 13:35:05.858 +05:30 [INF] Request processed successfully.
2025-09-29 13:35:05.863 +05:30 [INF] HTTP POST /api/ExecutionStatus responded 400 in 159.6430 ms
2025-09-29 13:35:05.874 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/ExecutionStatus - 400 null application/problem+json; charset=utf-8 229.4822ms
2025-09-29 13:35:31.827 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/ExecutionStatus - application/json 87
2025-09-29 13:35:31.849 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:35:31.859 +05:30 [INF] Processing request: /api/ExecutionStatus
2025-09-29 13:35:31.867 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API)'
2025-09-29 13:35:31.878 +05:30 [INF] Route matched with {action = "Add", controller = "ExecutionStatus"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(ExecutionStatusDto) on controller PromoPilot.API.Controllers.ExecutionStatusController (PromoPilot.API).
2025-09-29 13:35:31.927 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 13:35:31.940 +05:30 [INF] Executed action PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API) in 41.7717ms
2025-09-29 13:35:31.969 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API)'
2025-09-29 13:35:31.976 +05:30 [INF] Request processed successfully.
2025-09-29 13:35:31.982 +05:30 [INF] HTTP POST /api/ExecutionStatus responded 400 in 133.7951 ms
2025-09-29 13:35:31.994 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/ExecutionStatus - 400 null application/problem+json; charset=utf-8 166.9004ms
2025-09-29 13:35:51.236 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/ExecutionStatus - application/json 116
2025-09-29 13:35:51.253 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:35:51.259 +05:30 [INF] Processing request: /api/ExecutionStatus
2025-09-29 13:35:51.266 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API)'
2025-09-29 13:35:51.274 +05:30 [INF] Route matched with {action = "Add", controller = "ExecutionStatus"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(ExecutionStatusDto) on controller PromoPilot.API.Controllers.ExecutionStatusController (PromoPilot.API).
2025-09-29 13:35:51.295 +05:30 [INF] Creating new execution status.
2025-09-29 13:35:51.387 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__campaignId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Campaign] AS [c]
        WHERE [c].[CampaignID] = @__campaignId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 13:35:51.753 +05:30 [INF] Executed action PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API) in 460.2034ms
2025-09-29 13:35:51.760 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.ExecutionStatusController.Add (PromoPilot.API)'
2025-09-29 13:35:52.034 +05:30 [ERR] Unhandled exception occurred while processing request: /api/ExecutionStatus
System.InvalidOperationException: CampaignID 999 does not exist.
   at PromoPilot.Application.Services.ExecutionStatusService.AddAsync(ExecutionStatus status) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\Services\ExecutionStatusService.cs:line 41
   at PromoPilot.Application.UseCases.ExecutionStatuses.CreateExecutionStatusUseCase.ExecuteAsync(ExecutionStatusDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\UseCases\ExecutionStatuses\CreateExecutionStatusUseCase.cs:line 27
   at PromoPilot.API.Controllers.ExecutionStatusController.Add(ExecutionStatusDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\ExecutionStatusController.cs:line 77
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-29 13:35:52.215 +05:30 [ERR] HTTP POST /api/ExecutionStatus responded 500 in 962.0267 ms
2025-09-29 13:35:52.232 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/ExecutionStatus - 500 null application/json 996.1928ms
2025-09-29 13:45:40.772 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 13:45:41.262 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 13:45:41.271 +05:30 [INF] Hosting environment: Development
2025-09-29 13:45:41.278 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 13:45:42.828 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 13:45:43.133 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 194.0599 ms
2025-09-29 13:45:43.148 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 13:45:43.175 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 362.6165ms
2025-09-29 13:45:43.191 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 45.9328ms
2025-09-29 13:45:43.292 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 13:45:43.363 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 61.2960 ms
2025-09-29 13:45:43.372 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.4416ms
2025-09-29 13:45:58.522 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Engagement - application/json 94
2025-09-29 13:45:58.555 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 13:45:58.564 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:45:58.640 +05:30 [INF] Processing request: /api/Engagement
2025-09-29 13:45:58.654 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:45:58.777 +05:30 [INF] Route matched with {action = "Add", controller = "Engagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(EngagementDto) on controller PromoPilot.API.Controllers.EngagementController (PromoPilot.API).
2025-09-29 13:46:01.406 +05:30 [INF] Creating new engagement.
2025-09-29 13:46:09.509 +05:30 [INF] Executed DbCommand (409ms) [Parameters=[@__campaignId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Campaign] AS [c]
        WHERE [c].[CampaignID] = @__campaignId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 13:46:09.690 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 13:46:10.213 +05:30 [INF] Executed action PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API) in 11418.3901ms
2025-09-29 13:46:10.220 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:46:10.513 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Engagement
System.InvalidOperationException: CustomerID 101 does not exist.
   at PromoPilot.Application.Services.EngagementService.AddAsync(Engagement engagement) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\Services\EngagementService.cs:line 45
   at PromoPilot.Application.UseCases.Engagements.TrackEngagementUseCase.ExecuteAsync(EngagementDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\UseCases\Engagements\TrackEngagementUseCase.cs:line 28
   at PromoPilot.API.Controllers.EngagementController.Add(EngagementDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\EngagementController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-29 13:46:10.669 +05:30 [ERR] HTTP POST /api/Engagement responded 500 in 12125.4223 ms
2025-09-29 13:46:10.700 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Engagement - 500 null application/json 12177.7092ms
2025-09-29 13:46:21.689 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Engagement - application/json 93
2025-09-29 13:46:21.707 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:46:21.721 +05:30 [INF] Processing request: /api/Engagement
2025-09-29 13:46:21.732 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:46:21.741 +05:30 [INF] Route matched with {action = "Add", controller = "Engagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(EngagementDto) on controller PromoPilot.API.Controllers.EngagementController (PromoPilot.API).
2025-09-29 13:46:21.774 +05:30 [INF] Creating new engagement.
2025-09-29 13:46:21.863 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__campaignId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Campaign] AS [c]
        WHERE [c].[CampaignID] = @__campaignId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 13:46:21.886 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 13:46:22.273 +05:30 [INF] Executed action PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API) in 511.2462ms
2025-09-29 13:46:22.284 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:46:22.487 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Engagement
System.InvalidOperationException: CustomerID 10 does not exist.
   at PromoPilot.Application.Services.EngagementService.AddAsync(Engagement engagement) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\Services\EngagementService.cs:line 45
   at PromoPilot.Application.UseCases.Engagements.TrackEngagementUseCase.ExecuteAsync(EngagementDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\UseCases\Engagements\TrackEngagementUseCase.cs:line 28
   at PromoPilot.API.Controllers.EngagementController.Add(EngagementDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\EngagementController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-29 13:46:22.563 +05:30 [ERR] HTTP POST /api/Engagement responded 500 in 857.8126 ms
2025-09-29 13:46:22.573 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Engagement - 500 null application/json 884.1464ms
2025-09-29 13:46:32.319 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Customer - null null
2025-09-29 13:46:32.339 +05:30 [INF] Processing request: /api/Customer
2025-09-29 13:46:32.348 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CustomerController.GetAll (PromoPilot.API)'
2025-09-29 13:46:32.371 +05:30 [INF] Route matched with {action = "GetAll", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.CustomerController (PromoPilot.API).
2025-09-29 13:46:32.401 +05:30 [INF] Fetching all customers.
2025-09-29 13:46:32.794 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[Email], [c].[Name]
FROM [Customers] AS [c]
2025-09-29 13:46:33.032 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CustomerDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 13:46:33.053 +05:30 [INF] Executed action PromoPilot.API.Controllers.CustomerController.GetAll (PromoPilot.API) in 667.417ms
2025-09-29 13:46:33.064 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CustomerController.GetAll (PromoPilot.API)'
2025-09-29 13:46:33.069 +05:30 [INF] Request processed successfully.
2025-09-29 13:46:33.076 +05:30 [INF] HTTP GET /api/Customer responded 200 in 739.2930 ms
2025-09-29 13:46:33.090 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Customer - 200 null application/json; charset=utf-8 771.3301ms
2025-09-29 13:46:43.808 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Engagement - application/json 92
2025-09-29 13:46:43.818 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:46:43.821 +05:30 [INF] Processing request: /api/Engagement
2025-09-29 13:46:43.823 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:46:43.826 +05:30 [INF] Route matched with {action = "Add", controller = "Engagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(EngagementDto) on controller PromoPilot.API.Controllers.EngagementController (PromoPilot.API).
2025-09-29 13:46:43.853 +05:30 [INF] Creating new engagement.
2025-09-29 13:46:43.898 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@__campaignId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Campaign] AS [c]
        WHERE [c].[CampaignID] = @__campaignId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 13:46:43.914 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]
        WHERE [c].[CustomerID] = @__customerId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 13:46:43.924 +05:30 [INF] Adding new engagement.
2025-09-29 13:46:44.404 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Engagement] ([CampaignID], [CustomerID], [PurchaseValue], [RedemptionCount])
OUTPUT INSERTED.[EngagementID]
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 13:46:44.519 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'EngagementDto'.
2025-09-29 13:46:44.597 +05:30 [INF] Executed action PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API) in 764.3711ms
2025-09-29 13:46:44.609 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:46:44.616 +05:30 [INF] Request processed successfully.
2025-09-29 13:46:44.626 +05:30 [INF] HTTP POST /api/Engagement responded 201 in 807.8740 ms
2025-09-29 13:46:44.645 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Engagement - 201 null application/json; charset=utf-8 837.0935ms
2025-09-29 13:47:05.832 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Engagement - application/json 93
2025-09-29 13:47:05.902 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:47:05.913 +05:30 [INF] Processing request: /api/Engagement
2025-09-29 13:47:05.921 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:47:05.930 +05:30 [INF] Route matched with {action = "Add", controller = "Engagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(EngagementDto) on controller PromoPilot.API.Controllers.EngagementController (PromoPilot.API).
2025-09-29 13:47:05.950 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-29 13:47:06.050 +05:30 [INF] Executed action PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API) in 110.7425ms
2025-09-29 13:47:06.058 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:47:06.064 +05:30 [INF] Request processed successfully.
2025-09-29 13:47:06.068 +05:30 [INF] HTTP POST /api/Engagement responded 400 in 166.7201 ms
2025-09-29 13:47:06.076 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Engagement - 400 null application/problem+json; charset=utf-8 244.2499ms
2025-09-29 13:47:38.864 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Engagement - application/json 90
2025-09-29 13:47:38.879 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:47:38.883 +05:30 [INF] Processing request: /api/Engagement
2025-09-29 13:47:38.887 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:47:38.890 +05:30 [INF] Route matched with {action = "Add", controller = "Engagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(EngagementDto) on controller PromoPilot.API.Controllers.EngagementController (PromoPilot.API).
2025-09-29 13:47:38.905 +05:30 [INF] Creating new engagement.
2025-09-29 13:47:39.370 +05:30 [INF] Executed action PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API) in 468.4708ms
2025-09-29 13:47:39.377 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:47:39.454 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Engagement
System.InvalidOperationException: Purchase value must be at least 0.01.
   at PromoPilot.Application.Services.EngagementService.AddAsync(Engagement engagement) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\Services\EngagementService.cs:line 37
   at PromoPilot.Application.UseCases.Engagements.TrackEngagementUseCase.ExecuteAsync(EngagementDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\UseCases\Engagements\TrackEngagementUseCase.cs:line 28
   at PromoPilot.API.Controllers.EngagementController.Add(EngagementDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\EngagementController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-29 13:47:39.491 +05:30 [ERR] HTTP POST /api/Engagement responded 500 in 611.8849 ms
2025-09-29 13:47:39.514 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Engagement - 500 null application/json 649.5245ms
2025-09-29 13:48:05.350 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Engagement - application/json 91
2025-09-29 13:48:05.376 +05:30 [INF] CORS policy execution successful.
2025-09-29 13:48:05.383 +05:30 [INF] Processing request: /api/Engagement
2025-09-29 13:48:05.391 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:48:05.402 +05:30 [INF] Route matched with {action = "Add", controller = "Engagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Add(EngagementDto) on controller PromoPilot.API.Controllers.EngagementController (PromoPilot.API).
2025-09-29 13:48:05.421 +05:30 [INF] Creating new engagement.
2025-09-29 13:48:05.517 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__campaignId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Campaign] AS [c]
        WHERE [c].[CampaignID] = @__campaignId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-09-29 13:48:05.899 +05:30 [INF] Executed action PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API) in 482.5407ms
2025-09-29 13:48:05.904 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.EngagementController.Add (PromoPilot.API)'
2025-09-29 13:48:06.100 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Engagement
System.InvalidOperationException: CampaignID 999 does not exist.
   at PromoPilot.Application.Services.EngagementService.AddAsync(Engagement engagement) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\Services\EngagementService.cs:line 41
   at PromoPilot.Application.UseCases.Engagements.TrackEngagementUseCase.ExecuteAsync(EngagementDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Application\UseCases\Engagements\TrackEngagementUseCase.cs:line 28
   at PromoPilot.API.Controllers.EngagementController.Add(EngagementDto dto) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\EngagementController.cs:line 78
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-29 13:48:06.140 +05:30 [ERR] HTTP POST /api/Engagement responded 500 in 763.8003 ms
2025-09-29 13:48:06.155 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Engagement - 500 null application/json 803.859ms
2025-09-29 14:28:21.205 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 14:28:21.641 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 14:28:21.656 +05:30 [INF] Hosting environment: Development
2025-09-29 14:28:21.664 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 14:28:23.641 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 14:28:24.150 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 382.1315 ms
2025-09-29 14:28:24.154 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 14:28:24.192 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 557.769ms
2025-09-29 14:28:24.212 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 60.8392ms
2025-09-29 14:28:24.327 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 14:28:24.430 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 88.2116 ms
2025-09-29 14:28:24.441 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 113.5916ms
2025-09-29 14:29:08.807 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/3 - null 0
2025-09-29 14:29:08.847 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 14:29:08.856 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:29:08.999 +05:30 [INF] Processing request: /api/CampaignReport/generate/3
2025-09-29 14:29:09.017 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:29:09.141 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:29:21.102 +05:30 [INF] Executed DbCommand (450ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:29:21.634 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 14:29:21.679 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 12513.9416ms
2025-09-29 14:29:21.689 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:29:21.698 +05:30 [INF] Request processed successfully.
2025-09-29 14:29:21.707 +05:30 [INF] HTTP POST /api/CampaignReport/generate/3 responded 404 in 12876.4771 ms
2025-09-29 14:29:21.738 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/3 - 404 null application/json; charset=utf-8 12931.7972ms
2025-09-29 14:29:46.793 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - null 0
2025-09-29 14:29:46.820 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:29:46.836 +05:30 [INF] Processing request: /api/CampaignReport/generate/7
2025-09-29 14:29:46.841 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:29:46.847 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:29:46.969 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:29:47.882 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CampaignReport] ([CampaignID], [ConversionRate], [GeneratedDate], [Reach], [ROI])
OUTPUT INSERTED.[ReportID]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-29 14:29:48.064 +05:30 [INF] Executing OkObjectResult, writing value of type 'PromoPilot.Application.DTOs.CampaignReportDto'.
2025-09-29 14:29:48.120 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 1262.442ms
2025-09-29 14:29:48.134 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:29:48.145 +05:30 [INF] Request processed successfully.
2025-09-29 14:29:48.150 +05:30 [INF] HTTP POST /api/CampaignReport/generate/7 responded 200 in 1330.7319 ms
2025-09-29 14:29:48.161 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - 200 null application/json; charset=utf-8 1371.0997ms
2025-09-29 14:34:13.759 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Sales - null null
2025-09-29 14:34:13.793 +05:30 [INF] Processing request: /api/Sales
2025-09-29 14:34:13.798 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.SalesController.GetAll (PromoPilot.API)'
2025-09-29 14:34:13.825 +05:30 [INF] Route matched with {action = "GetAll", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.SalesController (PromoPilot.API).
2025-09-29 14:34:13.851 +05:30 [INF] Fetching all sales.
2025-09-29 14:34:13.861 +05:30 [INF] Fetching all sales.
2025-09-29 14:34:14.142 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SaleID], [s].[CampaignID], [s].[CustomerID], [s].[PaymentDate], [s].[PaymentMethod], [s].[PaymentStatus], [s].[ProductID], [s].[Quantity], [s].[SaleDate], [s].[StoreID], [s].[TotalAmount], [s].[TransactionId]
FROM [Sales] AS [s]
2025-09-29 14:34:14.204 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PromoPilot.Application.DTOs.SaleDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:34:14.225 +05:30 [INF] Executed action PromoPilot.API.Controllers.SalesController.GetAll (PromoPilot.API) in 385.4993ms
2025-09-29 14:34:14.235 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.SalesController.GetAll (PromoPilot.API)'
2025-09-29 14:34:14.241 +05:30 [INF] Request processed successfully.
2025-09-29 14:34:14.246 +05:30 [INF] HTTP GET /api/Sales responded 200 in 454.9305 ms
2025-09-29 14:34:14.264 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Sales - 200 null application/json; charset=utf-8 508.673ms
2025-09-29 14:34:42.875 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Engagement - null null
2025-09-29 14:34:42.902 +05:30 [INF] Processing request: /api/Engagement
2025-09-29 14:34:42.911 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.EngagementController.GetAll (PromoPilot.API)'
2025-09-29 14:34:42.937 +05:30 [INF] Route matched with {action = "GetAll", controller = "Engagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.EngagementController (PromoPilot.API).
2025-09-29 14:34:42.972 +05:30 [INF] Fetching all engagements.
2025-09-29 14:34:42.981 +05:30 [INF] Fetching all engagements.
2025-09-29 14:34:43.078 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EngagementID], [e].[CampaignID], [e].[CustomerID], [e].[PurchaseValue], [e].[RedemptionCount]
FROM [Engagement] AS [e]
2025-09-29 14:34:43.140 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EngagementDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:34:43.158 +05:30 [INF] Executed action PromoPilot.API.Controllers.EngagementController.GetAll (PromoPilot.API) in 209.4272ms
2025-09-29 14:34:43.168 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.EngagementController.GetAll (PromoPilot.API)'
2025-09-29 14:34:43.174 +05:30 [INF] Request processed successfully.
2025-09-29 14:34:43.179 +05:30 [INF] HTTP GET /api/Engagement responded 200 in 276.6586 ms
2025-09-29 14:34:43.193 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Engagement - 200 null application/json; charset=utf-8 318.01ms
2025-09-29 14:35:07.028 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/CampaignReport/CompareByRegion - null null
2025-09-29 14:35:07.060 +05:30 [INF] Processing request: /api/CampaignReport/CompareByRegion
2025-09-29 14:35:07.068 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.CompareByRegion (PromoPilot.API)'
2025-09-29 14:35:07.088 +05:30 [INF] Route matched with {action = "CompareByRegion", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CompareByRegion() on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:35:07.407 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ReportID], [c].[CampaignID], [c].[ConversionRate], [c].[GeneratedDate], [c].[Reach], [c].[ROI], [c0].[CampaignID], [c0].[EndDate], [c0].[Name], [c0].[StartDate], [c0].[StoreList], [c0].[TargetProducts]
FROM [CampaignReport] AS [c]
INNER JOIN [Campaign] AS [c0] ON [c].[CampaignID] = [c0].[CampaignID]
2025-09-29 14:35:07.441 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PromoPilot.Application.DTOs.CampaignRegionPerformanceDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:35:07.456 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.CompareByRegion (PromoPilot.API) in 355.2341ms
2025-09-29 14:35:07.469 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.CompareByRegion (PromoPilot.API)'
2025-09-29 14:35:07.478 +05:30 [INF] Request processed successfully.
2025-09-29 14:35:07.483 +05:30 [INF] HTTP GET /api/CampaignReport/CompareByRegion responded 200 in 422.8106 ms
2025-09-29 14:35:07.497 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/CampaignReport/CompareByRegion - 200 null application/json; charset=utf-8 469.4821ms
2025-09-29 14:48:08.383 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Product - null null
2025-09-29 14:48:08.413 +05:30 [INF] Processing request: /api/Product
2025-09-29 14:48:08.418 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.ProductController.GetAll (PromoPilot.API)'
2025-09-29 14:48:08.473 +05:30 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.ProductController (PromoPilot.API).
2025-09-29 14:48:08.525 +05:30 [INF] Fetching all products.
2025-09-29 14:48:08.542 +05:30 [INF] Fetching all products.
2025-09-29 14:48:08.743 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Category], [p].[Name], [p].[Price]
FROM [Products] AS [p]
2025-09-29 14:48:08.842 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:48:08.875 +05:30 [INF] Executed action PromoPilot.API.Controllers.ProductController.GetAll (PromoPilot.API) in 394.4041ms
2025-09-29 14:48:08.881 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.ProductController.GetAll (PromoPilot.API)'
2025-09-29 14:48:08.883 +05:30 [INF] Request processed successfully.
2025-09-29 14:48:08.885 +05:30 [INF] HTTP GET /api/Product responded 200 in 478.0642 ms
2025-09-29 14:48:08.889 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Product - 200 null application/json; charset=utf-8 506.9118ms
2025-09-29 14:49:22.590 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Customer - null null
2025-09-29 14:49:22.602 +05:30 [INF] Processing request: /api/Customer
2025-09-29 14:49:22.605 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CustomerController.GetAll (PromoPilot.API)'
2025-09-29 14:49:22.614 +05:30 [INF] Route matched with {action = "GetAll", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.CustomerController (PromoPilot.API).
2025-09-29 14:49:22.629 +05:30 [INF] Fetching all customers.
2025-09-29 14:49:22.656 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerID], [c].[Email], [c].[Name]
FROM [Customers] AS [c]
2025-09-29 14:49:22.693 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CustomerDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:49:22.700 +05:30 [INF] Executed action PromoPilot.API.Controllers.CustomerController.GetAll (PromoPilot.API) in 77.2141ms
2025-09-29 14:49:22.703 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CustomerController.GetAll (PromoPilot.API)'
2025-09-29 14:49:22.709 +05:30 [INF] Request processed successfully.
2025-09-29 14:49:22.712 +05:30 [INF] HTTP GET /api/Customer responded 200 in 109.6272 ms
2025-09-29 14:49:22.718 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Customer - 200 null application/json; charset=utf-8 126.3003ms
2025-09-29 14:50:25.915 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Sales - null null
2025-09-29 14:50:25.934 +05:30 [INF] Processing request: /api/Sales
2025-09-29 14:50:25.936 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.SalesController.GetAll (PromoPilot.API)'
2025-09-29 14:50:25.942 +05:30 [INF] Route matched with {action = "GetAll", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.SalesController (PromoPilot.API).
2025-09-29 14:50:25.957 +05:30 [INF] Fetching all sales.
2025-09-29 14:50:25.967 +05:30 [INF] Fetching all sales.
2025-09-29 14:50:25.983 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SaleID], [s].[CampaignID], [s].[CustomerID], [s].[PaymentDate], [s].[PaymentMethod], [s].[PaymentStatus], [s].[ProductID], [s].[Quantity], [s].[SaleDate], [s].[StoreID], [s].[TotalAmount], [s].[TransactionId]
FROM [Sales] AS [s]
2025-09-29 14:50:26.036 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PromoPilot.Application.DTOs.SaleDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:50:26.046 +05:30 [INF] Executed action PromoPilot.API.Controllers.SalesController.GetAll (PromoPilot.API) in 97.3427ms
2025-09-29 14:50:26.050 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.SalesController.GetAll (PromoPilot.API)'
2025-09-29 14:50:26.051 +05:30 [INF] Request processed successfully.
2025-09-29 14:50:26.052 +05:30 [INF] HTTP GET /api/Sales responded 200 in 118.4388 ms
2025-09-29 14:50:26.055 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Sales - 200 null application/json; charset=utf-8 139.46ms
2025-09-29 14:50:38.830 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - null 0
2025-09-29 14:50:38.839 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:50:38.845 +05:30 [INF] Processing request: /api/CampaignReport/generate/7
2025-09-29 14:50:38.851 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:50:38.854 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:50:38.893 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:50:38.933 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CampaignReport] ([CampaignID], [ConversionRate], [GeneratedDate], [Reach], [ROI])
OUTPUT INSERTED.[ReportID]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-29 14:50:38.939 +05:30 [INF] Executing OkObjectResult, writing value of type 'PromoPilot.Application.DTOs.CampaignReportDto'.
2025-09-29 14:50:38.943 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 78.3952ms
2025-09-29 14:50:38.948 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:50:38.951 +05:30 [INF] Request processed successfully.
2025-09-29 14:50:38.953 +05:30 [INF] HTTP POST /api/CampaignReport/generate/7 responded 200 in 114.5313 ms
2025-09-29 14:50:38.960 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - 200 null application/json; charset=utf-8 129.6372ms
2025-09-29 14:50:49.419 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/8 - null 0
2025-09-29 14:50:49.426 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:50:49.429 +05:30 [INF] Processing request: /api/CampaignReport/generate/8
2025-09-29 14:50:49.431 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:50:49.433 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:50:49.445 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:50:49.454 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CampaignReport] ([CampaignID], [ConversionRate], [GeneratedDate], [Reach], [ROI])
OUTPUT INSERTED.[ReportID]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-29 14:50:49.460 +05:30 [INF] Executing OkObjectResult, writing value of type 'PromoPilot.Application.DTOs.CampaignReportDto'.
2025-09-29 14:50:49.468 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 30.6162ms
2025-09-29 14:50:49.475 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:50:49.478 +05:30 [INF] Request processed successfully.
2025-09-29 14:50:49.482 +05:30 [INF] HTTP POST /api/CampaignReport/generate/8 responded 200 in 55.3598 ms
2025-09-29 14:50:49.485 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/8 - 200 null application/json; charset=utf-8 65.519ms
2025-09-29 14:50:54.114 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/9 - null 0
2025-09-29 14:50:54.125 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:50:54.127 +05:30 [INF] Processing request: /api/CampaignReport/generate/9
2025-09-29 14:50:54.131 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:50:54.137 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:50:54.156 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:50:54.169 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CampaignReport] ([CampaignID], [ConversionRate], [GeneratedDate], [Reach], [ROI])
OUTPUT INSERTED.[ReportID]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-29 14:50:54.179 +05:30 [INF] Executing OkObjectResult, writing value of type 'PromoPilot.Application.DTOs.CampaignReportDto'.
2025-09-29 14:50:54.185 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 40.3196ms
2025-09-29 14:50:54.188 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:50:54.192 +05:30 [INF] Request processed successfully.
2025-09-29 14:50:54.194 +05:30 [INF] HTTP POST /api/CampaignReport/generate/9 responded 200 in 68.9572 ms
2025-09-29 14:50:54.200 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/9 - 200 null application/json; charset=utf-8 85.8127ms
2025-09-29 14:50:58.741 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/22 - null 0
2025-09-29 14:50:58.748 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:50:58.749 +05:30 [INF] Processing request: /api/CampaignReport/generate/22
2025-09-29 14:50:58.752 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:50:58.754 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:50:58.767 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:50:58.774 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CampaignReport] ([CampaignID], [ConversionRate], [GeneratedDate], [Reach], [ROI])
OUTPUT INSERTED.[ReportID]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-29 14:50:58.777 +05:30 [INF] Executing OkObjectResult, writing value of type 'PromoPilot.Application.DTOs.CampaignReportDto'.
2025-09-29 14:50:58.779 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 18.9889ms
2025-09-29 14:50:58.781 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:50:58.782 +05:30 [INF] Request processed successfully.
2025-09-29 14:50:58.783 +05:30 [INF] HTTP POST /api/CampaignReport/generate/22 responded 200 in 35.4124 ms
2025-09-29 14:50:58.785 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/22 - 200 null application/json; charset=utf-8 44.2303ms
2025-09-29 14:51:05.052 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/227 - null 0
2025-09-29 14:51:05.064 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:51:05.067 +05:30 [INF] Processing request: /api/CampaignReport/generate/227
2025-09-29 14:51:05.072 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:51:05.077 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:51:05.089 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:51:05.291 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 14:51:05.300 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 216.4379ms
2025-09-29 14:51:05.305 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:51:05.310 +05:30 [INF] Request processed successfully.
2025-09-29 14:51:05.315 +05:30 [INF] HTTP POST /api/CampaignReport/generate/227 responded 404 in 250.5131 ms
2025-09-29 14:51:05.326 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/227 - 404 null application/json; charset=utf-8 274.5632ms
2025-09-29 14:51:14.966 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Campaign - null null
2025-09-29 14:51:14.976 +05:30 [INF] Processing request: /api/Campaign
2025-09-29 14:51:14.978 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignController.GetAllCampaigns (PromoPilot.API)'
2025-09-29 14:51:14.990 +05:30 [INF] Route matched with {action = "GetAllCampaigns", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCampaigns() on controller PromoPilot.API.Controllers.CampaignController (PromoPilot.API).
2025-09-29 14:51:15.039 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
2025-09-29 14:51:15.076 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PromoPilot.Application.DTOs.CampaignDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:51:15.092 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignController.GetAllCampaigns (PromoPilot.API) in 94.7902ms
2025-09-29 14:51:15.097 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignController.GetAllCampaigns (PromoPilot.API)'
2025-09-29 14:51:15.103 +05:30 [INF] Request processed successfully.
2025-09-29 14:51:15.109 +05:30 [INF] HTTP GET /api/Campaign responded 200 in 133.3302 ms
2025-09-29 14:51:15.120 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Campaign - 200 null application/json; charset=utf-8 154.0159ms
2025-09-29 14:52:05.203 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/2 - null 0
2025-09-29 14:52:05.210 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:52:05.213 +05:30 [INF] Processing request: /api/CampaignReport/generate/2
2025-09-29 14:52:05.217 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:52:05.222 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:52:05.250 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:52:05.377 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 14:52:05.383 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 154.5223ms
2025-09-29 14:52:05.392 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:52:05.399 +05:30 [INF] Request processed successfully.
2025-09-29 14:52:05.404 +05:30 [INF] HTTP POST /api/CampaignReport/generate/2 responded 404 in 194.4487 ms
2025-09-29 14:52:05.413 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/2 - 404 null application/json; charset=utf-8 209.9938ms
2025-09-29 14:52:10.415 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/5 - null 0
2025-09-29 14:52:10.426 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:52:10.431 +05:30 [INF] Processing request: /api/CampaignReport/generate/5
2025-09-29 14:52:10.437 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:52:10.446 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:52:10.471 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:52:10.618 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 14:52:10.623 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 166.0025ms
2025-09-29 14:52:10.628 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:52:10.633 +05:30 [INF] Request processed successfully.
2025-09-29 14:52:10.636 +05:30 [INF] HTTP POST /api/CampaignReport/generate/5 responded 404 in 210.1417 ms
2025-09-29 14:52:10.642 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/5 - 404 null application/json; charset=utf-8 226.9353ms
2025-09-29 14:52:14.991 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - null 0
2025-09-29 14:52:14.998 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:52:14.999 +05:30 [INF] Processing request: /api/CampaignReport/generate/7
2025-09-29 14:52:15.001 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:52:15.003 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:52:15.013 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:52:15.028 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CampaignReport] ([CampaignID], [ConversionRate], [GeneratedDate], [Reach], [ROI])
OUTPUT INSERTED.[ReportID]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-29 14:52:15.032 +05:30 [INF] Executing OkObjectResult, writing value of type 'PromoPilot.Application.DTOs.CampaignReportDto'.
2025-09-29 14:52:15.035 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 27.3527ms
2025-09-29 14:52:15.039 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:52:15.043 +05:30 [INF] Request processed successfully.
2025-09-29 14:52:15.045 +05:30 [INF] HTTP POST /api/CampaignReport/generate/7 responded 200 in 46.7748 ms
2025-09-29 14:52:15.048 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - 200 null application/json; charset=utf-8 56.8877ms
2025-09-29 14:54:03.716 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - null 0
2025-09-29 14:54:03.729 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:54:03.731 +05:30 [INF] Processing request: /api/CampaignReport/generate/7
2025-09-29 14:54:03.733 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:54:03.735 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:54:03.757 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:54:03.773 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CampaignReport] ([CampaignID], [ConversionRate], [GeneratedDate], [Reach], [ROI])
OUTPUT INSERTED.[ReportID]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-29 14:54:03.777 +05:30 [INF] Executing OkObjectResult, writing value of type 'PromoPilot.Application.DTOs.CampaignReportDto'.
2025-09-29 14:54:03.780 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 40.3203ms
2025-09-29 14:54:03.783 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:54:03.784 +05:30 [INF] Request processed successfully.
2025-09-29 14:54:03.786 +05:30 [INF] HTTP POST /api/CampaignReport/generate/7 responded 200 in 56.9712 ms
2025-09-29 14:54:03.790 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - 200 null application/json; charset=utf-8 73.8335ms
2025-09-29 14:54:08.919 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/9 - null 0
2025-09-29 14:54:08.927 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:54:08.931 +05:30 [INF] Processing request: /api/CampaignReport/generate/9
2025-09-29 14:54:08.935 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:54:08.939 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:54:08.960 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:54:08.992 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CampaignReport] ([CampaignID], [ConversionRate], [GeneratedDate], [Reach], [ROI])
OUTPUT INSERTED.[ReportID]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-29 14:54:09.004 +05:30 [INF] Executing OkObjectResult, writing value of type 'PromoPilot.Application.DTOs.CampaignReportDto'.
2025-09-29 14:54:09.012 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 62.4496ms
2025-09-29 14:54:09.017 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:54:09.022 +05:30 [INF] Request processed successfully.
2025-09-29 14:54:09.027 +05:30 [INF] HTTP POST /api/CampaignReport/generate/9 responded 200 in 99.4018 ms
2025-09-29 14:54:09.034 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/9 - 200 null application/json; charset=utf-8 114.4965ms
2025-09-29 14:54:14.354 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/22 - null 0
2025-09-29 14:54:14.361 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:54:14.363 +05:30 [INF] Processing request: /api/CampaignReport/generate/22
2025-09-29 14:54:14.366 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:54:14.369 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:54:14.386 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
FROM [Campaign] AS [c]
WHERE [c].[CampaignID] = @__p_0
2025-09-29 14:54:14.395 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [CampaignReport] ([CampaignID], [ConversionRate], [GeneratedDate], [Reach], [ROI])
OUTPUT INSERTED.[ReportID]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-09-29 14:54:14.401 +05:30 [INF] Executing OkObjectResult, writing value of type 'PromoPilot.Application.DTOs.CampaignReportDto'.
2025-09-29 14:54:14.405 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 29.433ms
2025-09-29 14:54:14.410 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:54:14.412 +05:30 [INF] Request processed successfully.
2025-09-29 14:54:14.413 +05:30 [INF] HTTP POST /api/CampaignReport/generate/22 responded 200 in 52.5977 ms
2025-09-29 14:54:14.417 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/22 - 200 null application/json; charset=utf-8 63.4744ms
2025-09-29 14:55:28.159 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Budget - null null
2025-09-29 14:55:28.179 +05:30 [INF] Processing request: /api/Budget
2025-09-29 14:55:28.184 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API)'
2025-09-29 14:55:28.196 +05:30 [INF] Route matched with {action = "GetAll", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 14:55:28.210 +05:30 [INF] Retrieving all budget allocations.
2025-09-29 14:55:28.245 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
2025-09-29 14:55:28.269 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PromoPilot.Application.DTOs.BudgetDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:55:28.285 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API) in 82.5021ms
2025-09-29 14:55:28.289 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API)'
2025-09-29 14:55:28.291 +05:30 [INF] Request processed successfully.
2025-09-29 14:55:28.292 +05:30 [INF] HTTP GET /api/Budget responded 200 in 113.3127 ms
2025-09-29 14:55:28.296 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Budget - 200 null application/json; charset=utf-8 136.6562ms
2025-09-29 14:56:14.156 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Engagement - null null
2025-09-29 14:56:14.167 +05:30 [INF] Processing request: /api/Engagement
2025-09-29 14:56:14.170 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.EngagementController.GetAll (PromoPilot.API)'
2025-09-29 14:56:14.175 +05:30 [INF] Route matched with {action = "GetAll", controller = "Engagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.EngagementController (PromoPilot.API).
2025-09-29 14:56:14.183 +05:30 [INF] Fetching all engagements.
2025-09-29 14:56:14.189 +05:30 [INF] Fetching all engagements.
2025-09-29 14:56:14.207 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EngagementID], [e].[CampaignID], [e].[CustomerID], [e].[PurchaseValue], [e].[RedemptionCount]
FROM [Engagement] AS [e]
2025-09-29 14:56:14.215 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[EngagementDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:56:14.221 +05:30 [INF] Executed action PromoPilot.API.Controllers.EngagementController.GetAll (PromoPilot.API) in 41.9772ms
2025-09-29 14:56:14.227 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.EngagementController.GetAll (PromoPilot.API)'
2025-09-29 14:56:14.231 +05:30 [INF] Request processed successfully.
2025-09-29 14:56:14.235 +05:30 [INF] HTTP GET /api/Engagement responded 200 in 67.6148 ms
2025-09-29 14:56:14.242 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Engagement - 200 null application/json; charset=utf-8 85.6534ms
2025-09-29 14:56:24.014 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Sales - null null
2025-09-29 14:56:24.018 +05:30 [INF] Processing request: /api/Sales
2025-09-29 14:56:24.020 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.SalesController.GetAll (PromoPilot.API)'
2025-09-29 14:56:24.023 +05:30 [INF] Route matched with {action = "GetAll", controller = "Sales"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.SalesController (PromoPilot.API).
2025-09-29 14:56:24.038 +05:30 [INF] Fetching all sales.
2025-09-29 14:56:24.041 +05:30 [INF] Fetching all sales.
2025-09-29 14:56:24.063 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SaleID], [s].[CampaignID], [s].[CustomerID], [s].[PaymentDate], [s].[PaymentMethod], [s].[PaymentStatus], [s].[ProductID], [s].[Quantity], [s].[SaleDate], [s].[StoreID], [s].[TotalAmount], [s].[TransactionId]
FROM [Sales] AS [s]
2025-09-29 14:56:24.073 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PromoPilot.Application.DTOs.SaleDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 14:56:24.077 +05:30 [INF] Executed action PromoPilot.API.Controllers.SalesController.GetAll (PromoPilot.API) in 48.2281ms
2025-09-29 14:56:24.081 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.SalesController.GetAll (PromoPilot.API)'
2025-09-29 14:56:24.085 +05:30 [INF] Request processed successfully.
2025-09-29 14:56:24.087 +05:30 [INF] HTTP GET /api/Sales responded 200 in 69.2861 ms
2025-09-29 14:56:24.093 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Sales - 200 null application/json; charset=utf-8 79.0223ms
2025-09-29 14:58:20.575 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 14:58:20.875 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 14:58:20.877 +05:30 [INF] Hosting environment: Development
2025-09-29 14:58:20.878 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 14:58:22.967 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 14:58:23.501 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 233.1977 ms
2025-09-29 14:58:23.529 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 14:58:23.553 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 588.5121ms
2025-09-29 14:58:23.603 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 74.5594ms
2025-09-29 14:58:23.767 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 14:58:23.834 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 56.6221 ms
2025-09-29 14:58:23.842 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 74.4033ms
2025-09-29 14:58:32.626 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - null 0
2025-09-29 14:58:32.657 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 14:58:32.666 +05:30 [INF] CORS policy execution successful.
2025-09-29 14:58:32.753 +05:30 [INF] Processing request: /api/CampaignReport/generate/7
2025-09-29 14:58:32.762 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:58:32.840 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 14:58:37.990 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-29 14:58:40.560 +05:30 [INF] Executed DbCommand (301ms) [Parameters=[@__campaignId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[CampaignID], [c0].[EndDate], [c0].[Name], [c0].[StartDate], [c0].[StoreList], [c0].[TargetProducts], [s].[SaleID], [s].[CampaignID], [s].[CustomerID], [s].[PaymentDate], [s].[PaymentMethod], [s].[PaymentStatus], [s].[ProductID], [s].[Quantity], [s].[SaleDate], [s].[StoreID], [s].[TotalAmount], [s].[TransactionId], [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID], [e].[EngagementID], [e].[CampaignID], [e].[CustomerID], [e].[PurchaseValue], [e].[RedemptionCount]
FROM (
    SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
    FROM [Campaign] AS [c]
    WHERE [c].[CampaignID] = @__campaignId_0
) AS [c0]
LEFT JOIN [Sales] AS [s] ON [c0].[CampaignID] = [s].[CampaignID]
LEFT JOIN [Budget] AS [b] ON [c0].[CampaignID] = [b].[CampaignID]
LEFT JOIN [Engagement] AS [e] ON [c0].[CampaignID] = [e].[CampaignID]
ORDER BY [c0].[CampaignID], [s].[SaleID], [b].[BudgetID]
2025-09-29 14:58:41.086 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 14:58:41.132 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 8282.9273ms
2025-09-29 14:58:41.141 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 14:58:41.149 +05:30 [INF] Request processed successfully.
2025-09-29 14:58:41.155 +05:30 [INF] HTTP POST /api/CampaignReport/generate/7 responded 400 in 8510.7231 ms
2025-09-29 14:58:41.172 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - 400 null application/json; charset=utf-8 8546.4162ms
2025-09-29 15:00:42.726 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 15:00:42.746 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 0.8213 ms
2025-09-29 15:00:42.751 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 25.0992ms
2025-09-29 15:00:42.809 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 15:00:42.824 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 14.7764ms
2025-09-29 15:00:42.934 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 15:00:42.980 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 31.4810 ms
2025-09-29 15:00:42.987 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.9592ms
2025-09-29 15:00:50.959 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - null 0
2025-09-29 15:00:50.965 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:00:50.971 +05:30 [INF] Processing request: /api/CampaignReport/generate/7
2025-09-29 15:00:50.973 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 15:00:50.976 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 15:00:51.044 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[@__campaignId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[CampaignID], [c0].[EndDate], [c0].[Name], [c0].[StartDate], [c0].[StoreList], [c0].[TargetProducts], [s].[SaleID], [s].[CampaignID], [s].[CustomerID], [s].[PaymentDate], [s].[PaymentMethod], [s].[PaymentStatus], [s].[ProductID], [s].[Quantity], [s].[SaleDate], [s].[StoreID], [s].[TotalAmount], [s].[TransactionId], [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID], [e].[EngagementID], [e].[CampaignID], [e].[CustomerID], [e].[PurchaseValue], [e].[RedemptionCount]
FROM (
    SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
    FROM [Campaign] AS [c]
    WHERE [c].[CampaignID] = @__campaignId_0
) AS [c0]
LEFT JOIN [Sales] AS [s] ON [c0].[CampaignID] = [s].[CampaignID]
LEFT JOIN [Budget] AS [b] ON [c0].[CampaignID] = [b].[CampaignID]
LEFT JOIN [Engagement] AS [e] ON [c0].[CampaignID] = [e].[CampaignID]
ORDER BY [c0].[CampaignID], [s].[SaleID], [b].[BudgetID]
2025-09-29 15:00:51.124 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:00:51.127 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 148.1578ms
2025-09-29 15:00:51.129 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 15:00:51.131 +05:30 [INF] Request processed successfully.
2025-09-29 15:00:51.132 +05:30 [INF] HTTP POST /api/CampaignReport/generate/7 responded 400 in 167.5640 ms
2025-09-29 15:00:51.136 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - 400 null application/json; charset=utf-8 177.1094ms
2025-09-29 15:01:40.378 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 15:01:40.724 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 15:01:40.728 +05:30 [INF] Hosting environment: Development
2025-09-29 15:01:40.731 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 15:01:42.188 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 15:01:42.507 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 186.6817 ms
2025-09-29 15:01:42.553 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 15:01:42.556 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 373.8424ms
2025-09-29 15:01:42.573 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 23.544ms
2025-09-29 15:01:42.724 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 15:01:42.803 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 69.4217 ms
2025-09-29 15:01:42.812 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.5115ms
2025-09-29 15:01:50.674 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - null 0
2025-09-29 15:01:50.696 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 15:01:50.703 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:01:50.747 +05:30 [INF] Processing request: /api/CampaignReport/generate/7
2025-09-29 15:01:50.753 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 15:01:50.804 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 15:01:54.576 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-29 15:01:56.359 +05:30 [INF] Executed DbCommand (287ms) [Parameters=[@__campaignId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[CampaignID], [c0].[EndDate], [c0].[Name], [c0].[StartDate], [c0].[StoreList], [c0].[TargetProducts], [s].[SaleID], [s].[CampaignID], [s].[CustomerID], [s].[PaymentDate], [s].[PaymentMethod], [s].[PaymentStatus], [s].[ProductID], [s].[Quantity], [s].[SaleDate], [s].[StoreID], [s].[TotalAmount], [s].[TransactionId], [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID], [e].[EngagementID], [e].[CampaignID], [e].[CustomerID], [e].[PurchaseValue], [e].[RedemptionCount]
FROM (
    SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
    FROM [Campaign] AS [c]
    WHERE [c].[CampaignID] = @__campaignId_0
) AS [c0]
LEFT JOIN [Sales] AS [s] ON [c0].[CampaignID] = [s].[CampaignID]
LEFT JOIN [Budget] AS [b] ON [c0].[CampaignID] = [b].[CampaignID]
LEFT JOIN [Engagement] AS [e] ON [c0].[CampaignID] = [e].[CampaignID]
ORDER BY [c0].[CampaignID], [s].[SaleID], [b].[BudgetID]
2025-09-29 15:01:56.639 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:01:56.653 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 5839.4075ms
2025-09-29 15:01:56.656 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 15:01:56.658 +05:30 [INF] Request processed successfully.
2025-09-29 15:01:56.661 +05:30 [INF] HTTP POST /api/CampaignReport/generate/7 responded 400 in 5974.1278 ms
2025-09-29 15:01:56.674 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - 400 null application/json; charset=utf-8 5999.4867ms
2025-09-29 15:03:17.244 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 15:03:17.285 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 0.9075 ms
2025-09-29 15:03:17.288 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 43.6265ms
2025-09-29 15:03:17.338 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 15:03:17.343 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 4.8815ms
2025-09-29 15:03:17.400 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 15:03:17.436 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 22.8479 ms
2025-09-29 15:03:17.441 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.6668ms
2025-09-29 15:03:24.789 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - null 0
2025-09-29 15:03:24.808 +05:30 [INF] CORS policy execution successful.
2025-09-29 15:03:24.813 +05:30 [INF] Processing request: /api/CampaignReport/generate/7
2025-09-29 15:03:24.817 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 15:03:24.819 +05:30 [INF] Route matched with {action = "GenerateReport", controller = "CampaignReport"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateReport(Int32) on controller PromoPilot.API.Controllers.CampaignReportController (PromoPilot.API).
2025-09-29 15:03:24.874 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__campaignId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c0].[CampaignID], [c0].[EndDate], [c0].[Name], [c0].[StartDate], [c0].[StoreList], [c0].[TargetProducts], [s].[SaleID], [s].[CampaignID], [s].[CustomerID], [s].[PaymentDate], [s].[PaymentMethod], [s].[PaymentStatus], [s].[ProductID], [s].[Quantity], [s].[SaleDate], [s].[StoreID], [s].[TotalAmount], [s].[TransactionId], [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID], [e].[EngagementID], [e].[CampaignID], [e].[CustomerID], [e].[PurchaseValue], [e].[RedemptionCount]
FROM (
    SELECT TOP(1) [c].[CampaignID], [c].[EndDate], [c].[Name], [c].[StartDate], [c].[StoreList], [c].[TargetProducts]
    FROM [Campaign] AS [c]
    WHERE [c].[CampaignID] = @__campaignId_0
) AS [c0]
LEFT JOIN [Sales] AS [s] ON [c0].[CampaignID] = [s].[CampaignID]
LEFT JOIN [Budget] AS [b] ON [c0].[CampaignID] = [b].[CampaignID]
LEFT JOIN [Engagement] AS [e] ON [c0].[CampaignID] = [e].[CampaignID]
ORDER BY [c0].[CampaignID], [s].[SaleID], [b].[BudgetID]
2025-09-29 15:03:24.945 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType2`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-09-29 15:03:24.947 +05:30 [INF] Executed action PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API) in 124.0586ms
2025-09-29 15:03:24.950 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.CampaignReportController.GenerateReport (PromoPilot.API)'
2025-09-29 15:03:24.952 +05:30 [INF] Request processed successfully.
2025-09-29 15:03:24.953 +05:30 [INF] HTTP POST /api/CampaignReport/generate/7 responded 400 in 147.4147 ms
2025-09-29 15:03:24.956 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/CampaignReport/generate/7 - 400 null application/json; charset=utf-8 166.5727ms
2025-09-29 15:03:34.379 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 15:03:34.390 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 0.4230 ms
2025-09-29 15:03:34.395 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 16.4891ms
2025-09-29 15:03:34.446 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 15:03:34.452 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 5.6296ms
2025-09-29 15:03:34.493 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 15:03:34.519 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 19.5747 ms
2025-09-29 15:03:34.527 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.5063ms
2025-09-29 16:44:19.326 +05:30 [ERR] An error occurred using the connection to database 'PromoPilotDB' on server 'LTIN678811\SQLEXPRESS'.
2025-09-29 16:44:19.734 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'PromoPilot.Infrastructure.Identity.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the login process. (provider: SSL Provider, error: 0 - The certificate chain was issued by an authority that is not trusted.)
 ---> System.ComponentModel.Win32Exception (0x80090325): The certificate chain was issued by an authority that is not trusted.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.SNIWritePacket(PacketHandle packet, UInt32& sniError, Boolean canAccumulate, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.WriteSni(Boolean canAccumulate)
   at Microsoft.Data.SqlClient.TdsParserStateObject.WritePacket(Byte flushMode, Boolean canAccumulate)
   at Microsoft.Data.SqlClient.TdsParser.TdsLogin(SqlLogin rec, FeatureExtension requestedFeatures, SessionData recoverySessionData, FederatedAuthenticationFeatureExtensionData fedAuthFeatureExtensionData, SqlConnectionEncryptOption encrypt)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.Login(ServerInfo server, TimeoutTimer timeout, String newPassword, SecureString newSecurePassword, SqlConnectionEncryptOption encrypt)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:63148296-098e-4fd0-9c79-83f05838987f
Error Number:-2146893019,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the login process. (provider: SSL Provider, error: 0 - The certificate chain was issued by an authority that is not trusted.)
 ---> System.ComponentModel.Win32Exception (0x80090325): The certificate chain was issued by an authority that is not trusted.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.SNIWritePacket(PacketHandle packet, UInt32& sniError, Boolean canAccumulate, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.WriteSni(Boolean canAccumulate)
   at Microsoft.Data.SqlClient.TdsParserStateObject.WritePacket(Byte flushMode, Boolean canAccumulate)
   at Microsoft.Data.SqlClient.TdsParser.TdsLogin(SqlLogin rec, FeatureExtension requestedFeatures, SessionData recoverySessionData, FederatedAuthenticationFeatureExtensionData fedAuthFeatureExtensionData, SqlConnectionEncryptOption encrypt)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.Login(ServerInfo server, TimeoutTimer timeout, String newPassword, SecureString newSecurePassword, SqlConnectionEncryptOption encrypt)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:63148296-098e-4fd0-9c79-83f05838987f
Error Number:-2146893019,State:0,Class:20
2025-09-29 16:47:05.407 +05:30 [ERR] Failed executing DbCommand (411ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 16:47:05.612 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'PromoPilot.Infrastructure.Identity.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AspNetRoles'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8b549971-ceef-4061-98a9-e6a6d29c5d22
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AspNetRoles'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8b549971-ceef-4061-98a9-e6a6d29c5d22
Error Number:208,State:1,Class:16
2025-09-29 16:48:54.794 +05:30 [ERR] Failed executing DbCommand (444ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 16:48:55.127 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'PromoPilot.Infrastructure.Identity.Context.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AspNetRoles'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d5b4c76b-0771-4997-9512-800ead16ca00
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AspNetRoles'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:d5b4c76b-0771-4997-9512-800ead16ca00
Error Number:208,State:1,Class:16
2025-09-29 17:39:12.787 +05:30 [INF] Executed DbCommand (207ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:39:12.984 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:39:13.244 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 17:39:13.272 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:39:13.278 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:39:13.288 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 17:39:13.293 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:39:13.299 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:39:13.308 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2025-09-29 17:39:13.495 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 17:39:13.646 +05:30 [FTL] Application startup exception
System.InvalidOperationException: Scheme already exists: Identity.Application
   at Microsoft.AspNetCore.Authentication.AuthenticationOptions.AddScheme(String name, Action`1 configureBuilder)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.AspNetCore.Authentication.AuthenticationSchemeProvider..ctor(IOptions`1 options, IDictionary`2 schemes)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-09-29 17:39:13.672 +05:30 [ERR] Hosting failed to start
System.InvalidOperationException: Scheme already exists: Identity.Application
   at Microsoft.AspNetCore.Authentication.AuthenticationOptions.AddScheme(String name, Action`1 configureBuilder)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.AspNetCore.Authentication.AuthenticationSchemeProvider..ctor(IOptions`1 options, IDictionary`2 schemes)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-09-29 17:41:55.354 +05:30 [INF] Executed DbCommand (224ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:41:55.581 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:41:55.586 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:41:55.759 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 17:41:55.859 +05:30 [FTL] Application startup exception
System.InvalidOperationException: Scheme already exists: Identity.Application
   at Microsoft.AspNetCore.Authentication.AuthenticationOptions.AddScheme(String name, Action`1 configureBuilder)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.AspNetCore.Authentication.AuthenticationSchemeProvider..ctor(IOptions`1 options, IDictionary`2 schemes)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-09-29 17:41:55.884 +05:30 [ERR] Hosting failed to start
System.InvalidOperationException: Scheme already exists: Identity.Application
   at Microsoft.AspNetCore.Authentication.AuthenticationOptions.AddScheme(String name, Action`1 configureBuilder)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.AspNetCore.Authentication.AuthenticationSchemeProvider..ctor(IOptions`1 options, IDictionary`2 schemes)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-09-29 17:46:29.806 +05:30 [INF] Executed DbCommand (195ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:46:30.019 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:46:30.028 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 17:46:30.222 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 17:46:30.345 +05:30 [FTL] Application startup exception
System.InvalidOperationException: Scheme already exists: Identity.Application
   at Microsoft.AspNetCore.Authentication.AuthenticationOptions.AddScheme(String name, Action`1 configureBuilder)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.AspNetCore.Authentication.AuthenticationSchemeProvider..ctor(IOptions`1 options, IDictionary`2 schemes)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2025-09-29 17:46:30.372 +05:30 [ERR] Hosting failed to start
System.InvalidOperationException: Scheme already exists: Identity.Application
   at Microsoft.AspNetCore.Authentication.AuthenticationOptions.AddScheme(String name, Action`1 configureBuilder)
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.AspNetCore.Authentication.AuthenticationSchemeProvider..ctor(IOptions`1 options, IDictionary`2 schemes)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-09-29 23:09:12.315 +05:30 [INF] Executed DbCommand (405ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 23:09:12.850 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 23:09:12.875 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-29 23:15:33.802 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 23:15:34.361 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 23:15:34.367 +05:30 [INF] Hosting environment: Development
2025-09-29 23:15:34.375 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 23:15:37.015 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 23:15:37.428 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 272.7110 ms
2025-09-29 23:15:37.448 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 23:15:37.472 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 471.5795ms
2025-09-29 23:15:37.489 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 43.3188ms
2025-09-29 23:15:37.581 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 23:15:37.664 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 66.3122 ms
2025-09-29 23:15:37.675 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.1258ms
2025-09-29 23:15:49.746 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Budget/report - null null
2025-09-29 23:15:49.801 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 23:15:49.910 +05:30 [INF] Processing request: /api/Budget/report
2025-09-29 23:15:49.944 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Finance)
2025-09-29 23:15:50.229 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Budget/report
System.InvalidOperationException: No authenticationScheme was specified, and there was no DefaultChallengeScheme found. The default schemes can be set using either AddAuthentication(string defaultScheme) or AddAuthentication(Action<AuthenticationOptions> configureOptions).
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.<>c__DisplayClass0_0.<<HandleAsync>g__Handle|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-29 23:15:50.380 +05:30 [ERR] HTTP GET /api/Budget/report responded 500 in 619.6204 ms
2025-09-29 23:15:50.395 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Budget/report - 500 null application/json 648.9694ms
2025-09-29 23:16:09.604 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Budget - null null
2025-09-29 23:16:09.645 +05:30 [INF] Processing request: /api/Budget
2025-09-29 23:16:09.663 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API)'
2025-09-29 23:16:09.788 +05:30 [INF] Route matched with {action = "GetAll", controller = "Budget"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.BudgetController (PromoPilot.API).
2025-09-29 23:16:12.788 +05:30 [INF] Retrieving all budget allocations.
2025-09-29 23:16:19.982 +05:30 [INF] Executed DbCommand (145ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[BudgetID], [b].[AllocatedAmount], [b].[CampaignID], [b].[SpentAmount], [b].[StoreID]
FROM [Budget] AS [b]
2025-09-29 23:16:20.303 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PromoPilot.Application.DTOs.BudgetDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 23:16:20.374 +05:30 [INF] Executed action PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API) in 10555.0875ms
2025-09-29 23:16:20.384 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.BudgetController.GetAll (PromoPilot.API)'
2025-09-29 23:16:20.389 +05:30 [INF] Request processed successfully.
2025-09-29 23:16:20.397 +05:30 [INF] HTTP GET /api/Budget responded 200 in 10762.0521 ms
2025-09-29 23:16:20.421 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Budget - 200 null application/json; charset=utf-8 10817.6504ms
2025-09-29 23:18:43.815 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 23:18:44.272 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 23:18:44.277 +05:30 [INF] Hosting environment: Development
2025-09-29 23:18:44.280 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 23:18:45.893 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 23:18:46.229 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 240.7072 ms
2025-09-29 23:18:46.247 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 360.5525ms
2025-09-29 23:18:46.255 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 23:18:46.289 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 34.9331ms
2025-09-29 23:18:46.422 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 23:18:46.473 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 40.5764 ms
2025-09-29 23:18:46.479 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.3227ms
2025-09-29 23:18:56.894 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/api/Product - null null
2025-09-29 23:18:56.929 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-29 23:18:57.009 +05:30 [INF] Processing request: /api/Product
2025-09-29 23:18:57.022 +05:30 [INF] Executing endpoint 'PromoPilot.API.Controllers.ProductController.GetAll (PromoPilot.API)'
2025-09-29 23:18:57.114 +05:30 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller PromoPilot.API.Controllers.ProductController (PromoPilot.API).
2025-09-29 23:19:00.120 +05:30 [INF] Fetching all products.
2025-09-29 23:19:00.133 +05:30 [INF] Fetching all products.
2025-09-29 23:19:08.950 +05:30 [INF] Executed DbCommand (187ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ProductID], [p].[Category], [p].[Name], [p].[Price]
FROM [Products] AS [p]
2025-09-29 23:19:09.424 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ProductDto, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-29 23:19:09.505 +05:30 [INF] Executed action PromoPilot.API.Controllers.ProductController.GetAll (PromoPilot.API) in 12370.1905ms
2025-09-29 23:19:09.514 +05:30 [INF] Executed endpoint 'PromoPilot.API.Controllers.ProductController.GetAll (PromoPilot.API)'
2025-09-29 23:19:09.525 +05:30 [INF] Request processed successfully.
2025-09-29 23:19:09.538 +05:30 [INF] HTTP GET /api/Product responded 200 in 12623.9930 ms
2025-09-29 23:19:09.584 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/api/Product - 200 null application/json; charset=utf-8 12690.5444ms
2025-09-29 23:48:42.250 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-29 23:48:42.850 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-29 23:48:43.180 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-29 23:48:43.188 +05:30 [INF] Hosting environment: Development
2025-09-29 23:48:43.191 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-29 23:48:45.476 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-29 23:48:49.488 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 216.2589 ms
2025-09-29 23:48:49.514 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 4044.4168ms
2025-09-29 23:48:49.535 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-29 23:48:49.557 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 23.6904ms
2025-09-29 23:48:49.634 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-29 23:48:49.736 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 88.2357 ms
2025-09-29 23:48:49.760 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 125.4533ms
