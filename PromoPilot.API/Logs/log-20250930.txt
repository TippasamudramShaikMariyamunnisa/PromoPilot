2025-09-30 00:16:49.209 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-30 00:16:50.329 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 00:16:50.345 +05:30 [INF] Hosting environment: Development
2025-09-30 00:16:50.356 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 00:17:34.087 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-30 00:17:34.821 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 391.4412 ms
2025-09-30 00:17:34.870 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 776.3113ms
2025-09-30 00:17:34.972 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 00:17:35.001 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 41.2113ms
2025-09-30 00:17:35.121 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-30 00:17:35.240 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 93.6090 ms
2025-09-30 00:17:35.251 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.6709ms
2025-09-30 11:28:11.049 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 11:28:11.751 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-30 11:28:12.067 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 11:28:12.071 +05:30 [INF] Hosting environment: Development
2025-09-30 11:28:12.076 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 11:28:14.570 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-30 11:28:17.305 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 223.9723 ms
2025-09-30 11:28:17.338 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 2786.8277ms
2025-09-30 11:28:17.351 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 11:28:17.362 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_vs/browserLink - null null
2025-09-30 11:28:17.364 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 13.9597ms
2025-09-30 11:28:17.491 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_vs/browserLink - 200 null text/javascript; charset=UTF-8 129.4414ms
2025-09-30 11:28:17.563 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-30 11:28:17.647 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 72.1180 ms
2025-09-30 11:28:17.660 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.2251ms
2025-09-30 12:24:16.280 +05:30 [INF] Executed DbCommand (346ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:24:16.683 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:24:16.707 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:24:16.730 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:24:17.018 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2025-09-30 12:24:17.068 +05:30 [INF] âœ… Role 'StoreManager' created.
2025-09-30 12:24:17.481 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 12:24:17.990 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-30 12:24:18.369 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 12:24:18.385 +05:30 [INF] Hosting environment: Development
2025-09-30 12:24:18.388 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 12:24:20.291 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-30 12:24:20.965 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 233.9004 ms
2025-09-30 12:24:20.982 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 696.0762ms
2025-09-30 12:24:21.014 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 12:24:21.019 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_vs/browserLink - null null
2025-09-30 12:24:21.026 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 12.3502ms
2025-09-30 12:24:21.100 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.5413ms
2025-09-30 12:24:21.153 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-30 12:24:21.213 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 53.4523 ms
2025-09-30 12:24:21.223 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.8417ms
2025-09-30 12:34:05.059 +05:30 [INF] Executed DbCommand (222ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:34:05.482 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:34:05.496 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:34:05.890 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 12:34:06.355 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-30 12:34:06.801 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 12:34:06.812 +05:30 [INF] Hosting environment: Development
2025-09-30 12:34:06.824 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 12:34:08.494 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-30 12:34:09.080 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 189.5020 ms
2025-09-30 12:34:09.113 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 12:34:09.113 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_vs/browserLink - null null
2025-09-30 12:34:09.123 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 640.1924ms
2025-09-30 12:34:09.135 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 21.8323ms
2025-09-30 12:34:09.215 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.2393ms
2025-09-30 12:34:09.318 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-30 12:34:09.444 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 106.3060 ms
2025-09-30 12:34:09.459 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 140.7592ms
2025-09-30 12:34:19.252 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 94
2025-09-30 12:34:19.290 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 12:34:19.304 +05:30 [INF] CORS policy execution successful.
2025-09-30 12:34:19.420 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 12:34:19.454 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 94
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 12:34:22.204 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:34:22.319 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 12:34:22.367 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 18.1636ms
2025-09-30 12:34:22.381 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:34:22.412 +05:30 [INF] RequestBody: [Not consumed by app]
2025-09-30 12:34:22.420 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 12:34:22.438 +05:30 [INF] Duration: 2984.8185ms
2025-09-30 12:34:22.668 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
System.InvalidOperationException: Unable to resolve service for type 'PromoPilot.Application.Interfaces.IAuthService' while attempting to activate 'AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method54(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 12:34:22.879 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 3607.1844 ms
2025-09-30 12:34:22.893 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 500 null application/json 3640.7367ms
2025-09-30 12:34:49.973 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 92
2025-09-30 12:34:50.008 +05:30 [INF] CORS policy execution successful.
2025-09-30 12:34:50.029 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 12:34:50.036 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 92
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 12:34:50.070 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:34:50.078 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 12:34:50.101 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 2.5465ms
2025-09-30 12:34:50.115 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:34:50.129 +05:30 [INF] RequestBody: [Not consumed by app]
2025-09-30 12:34:50.142 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 12:34:50.148 +05:30 [INF] Duration: 111.8712ms
2025-09-30 12:34:50.252 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
System.InvalidOperationException: Unable to resolve service for type 'PromoPilot.Application.Interfaces.IAuthService' while attempting to activate 'AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method54(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 12:34:50.289 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 283.0180 ms
2025-09-30 12:34:50.308 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 500 null application/json 333.9896ms
2025-09-30 12:35:01.032 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 94
2025-09-30 12:35:01.046 +05:30 [INF] CORS policy execution successful.
2025-09-30 12:35:01.055 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 12:35:01.060 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 94
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 12:35:01.081 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:35:01.089 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 12:35:01.114 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 2.6853ms
2025-09-30 12:35:01.130 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:35:01.139 +05:30 [INF] RequestBody: [Not consumed by app]
2025-09-30 12:35:01.149 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 12:35:01.160 +05:30 [INF] Duration: 100.5865ms
2025-09-30 12:35:01.248 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
System.InvalidOperationException: Unable to resolve service for type 'PromoPilot.Application.Interfaces.IAuthService' while attempting to activate 'AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method54(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 12:35:01.275 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 230.2877 ms
2025-09-30 12:35:01.294 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 500 null application/json 262.2079ms
2025-09-30 12:37:42.355 +05:30 [INF] Executed DbCommand (352ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:37:42.793 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:37:42.813 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:37:43.189 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 12:37:43.575 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-30 12:37:44.037 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 12:37:44.042 +05:30 [INF] Hosting environment: Development
2025-09-30 12:37:44.045 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 12:37:45.579 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-30 12:37:46.206 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 184.1779 ms
2025-09-30 12:37:46.232 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 660.2041ms
2025-09-30 12:37:46.275 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 12:37:46.290 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_vs/browserLink - null null
2025-09-30 12:37:46.291 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 16.0692ms
2025-09-30 12:37:46.411 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_vs/browserLink - 200 null text/javascript; charset=UTF-8 120.3767ms
2025-09-30 12:37:46.466 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-30 12:37:46.522 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 47.2386 ms
2025-09-30 12:37:46.531 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.1033ms
2025-09-30 12:38:52.674 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 94
2025-09-30 12:38:52.711 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 12:38:52.726 +05:30 [INF] CORS policy execution successful.
2025-09-30 12:38:52.877 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 12:38:52.903 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 94
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 12:38:55.681 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:38:55.765 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 12:38:55.920 +05:30 [INF] RequestBody: {
  "email": "storemanager@example.com",
  "password": "Store@123",
  "role": "StoreManager"
}
2025-09-30 12:38:56.639 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 12:38:57.205 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-09-30 12:38:57.283 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:38:57.332 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 12:38:57.513 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-30 12:38:57.539 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 12:38:57.604 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 12:38:57.841 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-09-30 12:38:58.097 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-30 12:38:58.797 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 3009.8551ms
2025-09-30 12:38:58.806 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:38:58.823 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 12:38:58.855 +05:30 [INF] Duration: 5947.7641ms
2025-09-30 12:38:59.261 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'HS256' requires a key size of at least '128' bits. Key '[PII of type 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', is of size: '56'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at AuthService.GenerateTokensAsync(ApplicationUser user) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 170
   at AuthService.RegisterAsync(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 52
   at AuthController.Register(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\AuthController.cs:line 20
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 12:38:59.592 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 6892.2460 ms
2025-09-30 12:38:59.615 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 500 null application/json 6940.4906ms
2025-09-30 12:41:39.511 +05:30 [INF] Executed DbCommand (276ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:41:39.925 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:41:39.947 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:41:40.333 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 12:41:40.728 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-30 12:41:41.123 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 12:41:41.129 +05:30 [INF] Hosting environment: Development
2025-09-30 12:41:41.152 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 12:41:42.771 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-30 12:41:43.266 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 206.8657 ms
2025-09-30 12:41:43.302 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_vs/browserLink - null null
2025-09-30 12:41:43.302 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 12:41:43.303 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 540.2564ms
2025-09-30 12:41:43.344 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 41.5234ms
2025-09-30 12:41:43.394 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_vs/browserLink - 200 null text/javascript; charset=UTF-8 91.9946ms
2025-09-30 12:41:43.473 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-30 12:41:43.541 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 55.4784 ms
2025-09-30 12:41:43.551 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 77.6321ms
2025-09-30 12:42:07.354 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 94
2025-09-30 12:42:07.375 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 12:42:07.381 +05:30 [INF] CORS policy execution successful.
2025-09-30 12:42:07.471 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 12:42:07.504 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 94
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 12:42:10.166 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:42:10.248 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 12:42:10.359 +05:30 [INF] RequestBody: {
  "email": "storemanager@example.com",
  "password": "Store@123",
  "role": "StoreManager"
}
2025-09-30 12:42:11.046 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 12:42:11.270 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'PromoPilot.Application.DTOs.Common.ApiResponse`1[[PromoPilot.Application.DTOs.Auth.AuthResponse, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 12:42:11.323 +05:30 [INF] Response:
StatusCode: 400
Content-Type: application/json; charset=utf-8
2025-09-30 12:42:11.345 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 1068.9236ms
2025-09-30 12:42:11.358 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:42:11.373 +05:30 [INF] ResponseBody: {"isSuccess":false,"message":"Registration failed","data":null,"errors":["Username 'storemanager@example.com' is already taken."]}
2025-09-30 12:42:11.392 +05:30 [INF] Duration: 3884.9393ms
2025-09-30 12:42:11.406 +05:30 [INF] Request processed successfully.
2025-09-30 12:42:11.420 +05:30 [INF] HTTP POST /api/Auth/register responded 400 in 4056.6647 ms
2025-09-30 12:42:11.451 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 400 null application/json; charset=utf-8 4096.2237ms
2025-09-30 12:42:41.978 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/login - application/json 68
2025-09-30 12:42:42.008 +05:30 [INF] CORS policy execution successful.
2025-09-30 12:42:42.041 +05:30 [INF] Processing request: /api/Auth/login
2025-09-30 12:42:42.050 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/login
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 68
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 12:42:42.083 +05:30 [INF] Executing endpoint 'AuthController.Login (PromoPilot.API)'
2025-09-30 12:42:42.110 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(PromoPilot.Application.DTOs.Auth.LoginRequest) on controller AuthController (PromoPilot.API).
2025-09-30 12:42:42.136 +05:30 [INF] RequestBody: {
  "email": "storemanager@example.com",
  "password": "Store@123"
}
2025-09-30 12:42:42.243 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 12:42:42.678 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-30 12:42:43.492 +05:30 [INF] Executed action AuthController.Login (PromoPilot.API) in 1371.0145ms
2025-09-30 12:42:43.499 +05:30 [INF] Executed endpoint 'AuthController.Login (PromoPilot.API)'
2025-09-30 12:42:43.506 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 12:42:43.518 +05:30 [INF] Duration: 1468.1889ms
2025-09-30 12:42:43.887 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/login
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'HS256' requires a key size of at least '128' bits. Key '[PII of type 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', is of size: '56'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at AuthService.GenerateTokensAsync(ApplicationUser user) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 170
   at AuthService.LoginAsync(LoginRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 78
   at AuthController.Login(LoginRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\AuthController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 12:42:44.135 +05:30 [ERR] HTTP POST /api/Auth/login responded 500 in 2129.6827 ms
2025-09-30 12:42:44.144 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/login - 500 null application/json 2166.3362ms
2025-09-30 12:43:42.558 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 87
2025-09-30 12:43:42.590 +05:30 [INF] CORS policy execution successful.
2025-09-30 12:43:42.599 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 12:43:42.608 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 87
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 12:43:42.623 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:43:42.632 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 12:43:42.713 +05:30 [INF] RequestBody: {
  "email": "marketing@gmail.com",
  "password": "Market@123",
  "role": "Marketing"
}
2025-09-30 12:43:43.016 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 12:43:43.430 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-09-30 12:43:43.495 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:43:43.547 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 12:43:43.685 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-30 12:43:43.716 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 12:43:43.798 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 12:43:43.931 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-09-30 12:43:44.043 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-30 12:43:44.503 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 1857.6272ms
2025-09-30 12:43:44.510 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:43:44.522 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 12:43:44.537 +05:30 [INF] Duration: 1928.9267ms
2025-09-30 12:43:44.791 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'HS256' requires a key size of at least '128' bits. Key '[PII of type 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', is of size: '56'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at AuthService.GenerateTokensAsync(ApplicationUser user) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 170
   at AuthService.RegisterAsync(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 52
   at AuthController.Register(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\AuthController.cs:line 20
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 12:43:44.882 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 2294.4175 ms
2025-09-30 12:43:44.902 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 500 null application/json 2344.6515ms
2025-09-30 12:43:51.288 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 87
2025-09-30 12:43:51.309 +05:30 [INF] CORS policy execution successful.
2025-09-30 12:43:51.312 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 12:43:51.316 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 87
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 12:43:51.347 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:43:51.360 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 12:43:51.394 +05:30 [INF] RequestBody: {
  "email": "marketing@gmail.com",
  "password": "Market@123",
  "role": "Marketing"
}
2025-09-30 12:43:51.671 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 12:43:51.693 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'PromoPilot.Application.DTOs.Common.ApiResponse`1[[PromoPilot.Application.DTOs.Auth.AuthResponse, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 12:43:51.710 +05:30 [INF] Response:
StatusCode: 400
Content-Type: application/json; charset=utf-8
2025-09-30 12:43:51.722 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 329.3901ms
2025-09-30 12:43:51.729 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:43:51.744 +05:30 [INF] ResponseBody: {"isSuccess":false,"message":"Registration failed","data":null,"errors":["Username 'marketing@gmail.com' is already taken."]}
2025-09-30 12:43:51.752 +05:30 [INF] Duration: 435.6771ms
2025-09-30 12:43:51.756 +05:30 [INF] Request processed successfully.
2025-09-30 12:43:51.759 +05:30 [INF] HTTP POST /api/Auth/register responded 400 in 450.8291 ms
2025-09-30 12:43:51.782 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 400 null application/json; charset=utf-8 492.8177ms
2025-09-30 12:46:25.749 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-30 12:46:25.811 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 4.9896 ms
2025-09-30 12:46:25.832 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 83.5466ms
2025-09-30 12:46:25.900 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 12:46:25.920 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 19.8854ms
2025-09-30 12:46:25.938 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_vs/browserLink - null null
2025-09-30 12:46:26.004 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.464ms
2025-09-30 12:46:26.114 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-30 12:46:26.205 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 66.7731 ms
2025-09-30 12:46:26.217 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.5987ms
2025-09-30 12:46:54.277 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 87
2025-09-30 12:46:54.299 +05:30 [INF] CORS policy execution successful.
2025-09-30 12:46:54.308 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 12:46:54.312 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 87
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 12:46:54.329 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:46:54.337 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 12:46:54.364 +05:30 [INF] RequestBody: {
  "email": "marketing@gmail.com",
  "password": "Market@123",
  "role": "Marketing"
}
2025-09-30 12:46:54.614 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 12:46:54.687 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-09-30 12:46:54.711 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:46:54.735 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 12:46:54.764 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-30 12:46:54.782 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 12:46:54.805 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 12:46:54.869 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-09-30 12:46:54.908 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-30 12:46:55.310 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 947.4978ms
2025-09-30 12:46:55.322 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:46:55.329 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 12:46:55.340 +05:30 [INF] Duration: 1027.7328ms
2025-09-30 12:46:55.620 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'HS256' requires a key size of at least '128' bits. Key '[PII of type 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', is of size: '56'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at AuthService.GenerateTokensAsync(ApplicationUser user) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 170
   at AuthService.RegisterAsync(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 52
   at AuthController.Register(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\AuthController.cs:line 20
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 12:46:55.689 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 1389.7726 ms
2025-09-30 12:46:55.706 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 500 null application/json 1431.1253ms
2025-09-30 12:50:08.531 +05:30 [INF] Executed DbCommand (348ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:50:08.933 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:50:08.944 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 12:50:09.280 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 12:50:09.694 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-30 12:50:10.047 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 12:50:10.049 +05:30 [INF] Hosting environment: Development
2025-09-30 12:50:10.056 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 12:50:11.918 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-30 12:50:12.660 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 224.1733 ms
2025-09-30 12:50:12.687 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 778.7674ms
2025-09-30 12:50:12.746 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_vs/browserLink - null null
2025-09-30 12:50:12.754 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 12:50:12.772 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 17.7532ms
2025-09-30 12:50:12.849 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.9381ms
2025-09-30 12:50:12.913 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-30 12:50:12.985 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 59.3946 ms
2025-09-30 12:50:12.996 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 83.3627ms
2025-09-30 12:51:06.020 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 83
2025-09-30 12:51:06.057 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 12:51:06.071 +05:30 [INF] CORS policy execution successful.
2025-09-30 12:51:06.161 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 12:51:06.202 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 83
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 12:51:08.747 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:51:08.844 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 12:51:08.989 +05:30 [INF] RequestBody: 
"email": "marketing@gmail.com",
  "password": "Market@123",
  "role": "Marketing"

2025-09-30 12:51:09.078 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-30 12:51:09.178 +05:30 [INF] Response:
StatusCode: 400
Content-Type: application/problem+json; charset=utf-8
2025-09-30 12:51:09.200 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 295.3391ms
2025-09-30 12:51:09.208 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:51:09.218 +05:30 [INF] ResponseBody: {"type":"https://tools.ietf.org/html/rfc9110#section-15.5.1","title":"One or more validation errors occurred.","status":400,"errors":{"$":["The JSON value could not be converted to PromoPilot.Application.DTOs.Auth.RegisterRequest. Path: $ | LineNumber: 1 | BytePositionInLine: 7."],"request":["The request field is required."]},"traceId":"00-5ba188729fd8342f22b418384721ea1d-848513aaca75604f-00"}
2025-09-30 12:51:09.234 +05:30 [INF] Duration: 3028.6969ms
2025-09-30 12:51:09.267 +05:30 [INF] Request processed successfully.
2025-09-30 12:51:09.272 +05:30 [INF] HTTP POST /api/Auth/register responded 400 in 3224.1426 ms
2025-09-30 12:51:09.286 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 400 null application/problem+json; charset=utf-8 3266.176ms
2025-09-30 12:53:37.513 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 87
2025-09-30 12:53:37.539 +05:30 [INF] CORS policy execution successful.
2025-09-30 12:53:37.578 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 12:53:37.586 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 87
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 12:53:37.610 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:53:37.620 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 12:53:37.648 +05:30 [INF] RequestBody: {
  "email": "marketing@gmail.com",
  "password": "Market@123",
  "role": "Marketing"
}
2025-09-30 12:53:38.252 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 12:53:38.461 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'PromoPilot.Application.DTOs.Common.ApiResponse`1[[PromoPilot.Application.DTOs.Auth.AuthResponse, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 12:53:38.501 +05:30 [INF] Response:
StatusCode: 400
Content-Type: application/json; charset=utf-8
2025-09-30 12:53:38.511 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 873.3448ms
2025-09-30 12:53:38.525 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 12:53:38.547 +05:30 [INF] ResponseBody: {"isSuccess":false,"message":"Registration failed","data":null,"errors":["Username 'marketing@gmail.com' is already taken."]}
2025-09-30 12:53:38.553 +05:30 [INF] Duration: 967.3917ms
2025-09-30 12:53:38.558 +05:30 [INF] Request processed successfully.
2025-09-30 12:53:38.580 +05:30 [INF] HTTP POST /api/Auth/register responded 400 in 1042.9759 ms
2025-09-30 12:53:38.599 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 400 null application/json; charset=utf-8 1087.1889ms
2025-09-30 14:02:07.374 +05:30 [INF] Executed DbCommand (203ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 14:02:07.640 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 14:02:07.647 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 14:02:07.878 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 14:02:08.187 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-30 14:02:08.343 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 14:02:08.346 +05:30 [INF] Hosting environment: Development
2025-09-30 14:02:08.355 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 14:02:10.199 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-30 14:02:10.681 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 102.7656 ms
2025-09-30 14:02:10.691 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 14:02:10.710 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_vs/browserLink - null null
2025-09-30 14:02:10.772 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 574.3904ms
2025-09-30 14:02:10.786 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 95.1269ms
2025-09-30 14:02:10.865 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_vs/browserLink - 200 null text/javascript; charset=UTF-8 155.3886ms
2025-09-30 14:02:10.921 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-30 14:02:10.977 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 51.0974 ms
2025-09-30 14:02:10.984 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.8952ms
2025-09-30 14:02:49.390 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 84
2025-09-30 14:02:49.403 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 14:02:49.406 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:02:49.454 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 14:02:49.464 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 84
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 14:02:51.365 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 14:02:51.416 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 14:02:51.468 +05:30 [INF] RequestBody: {
  "email": "finance@gmail.com",
  "password": "finance@123",
  "role": "Finance"
}
2025-09-30 14:02:51.668 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 14:02:51.700 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'PromoPilot.Application.DTOs.Common.ApiResponse`1[[PromoPilot.Application.DTOs.Auth.AuthResponse, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:02:51.713 +05:30 [INF] Response:
StatusCode: 400
Content-Type: application/json; charset=utf-8
2025-09-30 14:02:51.727 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 296.9029ms
2025-09-30 14:02:51.733 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 14:02:51.740 +05:30 [INF] ResponseBody: {"isSuccess":false,"message":"Registration failed","data":null,"errors":["Passwords must have at least one uppercase ('A'-'Z')."]}
2025-09-30 14:02:51.750 +05:30 [INF] Duration: 2282.6177ms
2025-09-30 14:02:51.756 +05:30 [INF] Request processed successfully.
2025-09-30 14:02:51.763 +05:30 [INF] HTTP POST /api/Auth/register responded 400 in 2366.9852 ms
2025-09-30 14:02:51.780 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 400 null application/json; charset=utf-8 2390.748ms
2025-09-30 14:03:05.638 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 84
2025-09-30 14:03:05.645 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:03:05.651 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 14:03:05.655 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 84
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 14:03:05.663 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 14:03:05.673 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 14:03:05.685 +05:30 [INF] RequestBody: {
  "email": "finance@gmail.com",
  "password": "Finance@123",
  "role": "Finance"
}
2025-09-30 14:03:05.721 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 14:03:05.891 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 14:03:06.082 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-09-30 14:03:06.120 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 14:03:06.147 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 14:03:06.229 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-30 14:03:06.246 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 14:03:06.276 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 14:03:06.350 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-09-30 14:03:06.491 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-30 14:03:06.882 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 1204.7199ms
2025-09-30 14:03:06.885 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 14:03:06.890 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 14:03:06.891 +05:30 [INF] Duration: 1236.4599ms
2025-09-30 14:03:07.001 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'HS256' requires a key size of at least '128' bits. Key '[PII of type 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', is of size: '56'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at AuthService.GenerateTokensAsync(ApplicationUser user) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 181
   at AuthService.RegisterAsync(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 64
   at AuthController.Register(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\AuthController.cs:line 20
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 14:03:07.149 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 1504.8002 ms
2025-09-30 14:03:07.157 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 500 null application/json 1518.5006ms
2025-09-30 14:03:30.304 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 67
2025-09-30 14:03:30.316 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:03:30.317 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 14:03:30.319 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 67
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 14:03:30.323 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 14:03:30.324 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 14:03:30.345 +05:30 [INF] RequestBody: {
  "email": "string",
  "password": "string",
  "role": "string"
}
2025-09-30 14:03:30.371 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 14:03:30.376 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'PromoPilot.Application.DTOs.Common.ApiResponse`1[[PromoPilot.Application.DTOs.Auth.AuthResponse, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 14:03:30.386 +05:30 [INF] Response:
StatusCode: 400
Content-Type: application/json; charset=utf-8
2025-09-30 14:03:30.392 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 58.4419ms
2025-09-30 14:03:30.399 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 14:03:30.404 +05:30 [INF] ResponseBody: {"isSuccess":false,"message":"Registration failed","data":null,"errors":["Passwords must have at least one non alphanumeric character.","Passwords must have at least one digit ('0'-'9').","Passwords must have at least one uppercase ('A'-'Z')."]}
2025-09-30 14:03:30.407 +05:30 [INF] Duration: 88.4417ms
2025-09-30 14:03:30.411 +05:30 [INF] Request processed successfully.
2025-09-30 14:03:30.417 +05:30 [INF] HTTP POST /api/Auth/register responded 400 in 102.2744 ms
2025-09-30 14:03:30.427 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 400 null application/json; charset=utf-8 122.3622ms
2025-09-30 14:04:15.607 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/login - application/json 63
2025-09-30 14:04:15.618 +05:30 [INF] CORS policy execution successful.
2025-09-30 14:04:15.622 +05:30 [INF] Processing request: /api/Auth/login
2025-09-30 14:04:15.626 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/login
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 63
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 14:04:15.640 +05:30 [INF] Executing endpoint 'AuthController.Login (PromoPilot.API)'
2025-09-30 14:04:15.658 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(PromoPilot.Application.DTOs.Auth.LoginRequest) on controller AuthController (PromoPilot.API).
2025-09-30 14:04:15.670 +05:30 [INF] RequestBody: {
  "email": "finance@gmail.com",
  "password": "Finance@123"
}
2025-09-30 14:04:15.698 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 14:04:15.807 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-30 14:04:15.989 +05:30 [INF] Executed action AuthController.Login (PromoPilot.API) in 321.9591ms
2025-09-30 14:04:15.995 +05:30 [INF] Executed endpoint 'AuthController.Login (PromoPilot.API)'
2025-09-30 14:04:15.998 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 14:04:16.000 +05:30 [INF] Duration: 374.1786ms
2025-09-30 14:04:16.111 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/login
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'HS256' requires a key size of at least '128' bits. Key '[PII of type 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', is of size: '56'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at AuthService.GenerateTokensAsync(ApplicationUser user) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 181
   at AuthService.LoginAsync(LoginRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 89
   at AuthController.Login(LoginRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\AuthController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 14:04:16.153 +05:30 [ERR] HTTP POST /api/Auth/login responded 500 in 535.2721 ms
2025-09-30 14:04:16.157 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/login - 500 null application/json 550.4504ms
2025-09-30 16:09:42.055 +05:30 [INF] Executed DbCommand (473ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 16:09:42.670 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 16:09:42.690 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 16:09:43.469 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 16:09:44.408 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-30 16:09:44.942 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 16:09:44.953 +05:30 [INF] Hosting environment: Development
2025-09-30 16:09:44.962 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 16:09:48.243 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-30 16:09:49.520 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 327.5947 ms
2025-09-30 16:09:49.552 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 16:09:49.578 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_vs/browserLink - null null
2025-09-30 16:09:49.596 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 1362.3906ms
2025-09-30 16:09:49.603 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 50.5621ms
2025-09-30 16:09:49.750 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_vs/browserLink - 200 null text/javascript; charset=UTF-8 172.1222ms
2025-09-30 16:09:49.835 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-30 16:09:49.948 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 102.0609 ms
2025-09-30 16:09:49.956 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 120.5754ms
2025-09-30 20:39:05.952 +05:30 [INF] Executed DbCommand (450ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 20:39:06.483 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 20:39:06.503 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 20:39:07.083 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 20:39:07.919 +05:30 [INF] Now listening on: http://localhost:5145
2025-09-30 20:39:08.408 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 20:39:08.415 +05:30 [INF] Hosting environment: Development
2025-09-30 20:39:08.423 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 20:39:11.944 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/index.html - null null
2025-09-30 20:39:13.046 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_vs/browserLink - null null
2025-09-30 20:39:13.099 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 20:39:13.100 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 397.5203 ms
2025-09-30 20:39:13.236 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 128.8068ms
2025-09-30 20:39:13.285 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/index.html - 200 null text/html;charset=utf-8 1353.5561ms
2025-09-30 20:39:13.380 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/_vs/browserLink - 200 null text/javascript; charset=UTF-8 334.2356ms
2025-09-30 20:39:13.446 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - null null
2025-09-30 20:39:13.530 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 72.1686 ms
2025-09-30 20:39:13.539 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5145/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.7014ms
2025-09-30 20:39:53.010 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 84
2025-09-30 20:39:53.040 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 20:39:53.051 +05:30 [INF] CORS policy execution successful.
2025-09-30 20:39:53.196 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 20:39:53.225 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 84
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 20:39:56.117 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 20:39:56.215 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 20:39:56.323 +05:30 [INF] RequestBody: {
  "email": "market@gmail.com",
  "password": "market@123",
  "role": "Marketing"
}
2025-09-30 20:39:56.591 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 20:39:56.656 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'PromoPilot.Application.DTOs.Common.ApiResponse`1[[PromoPilot.Application.DTOs.Auth.AuthResponse, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 20:39:56.684 +05:30 [INF] Response:
StatusCode: 400
Content-Type: application/json; charset=utf-8
2025-09-30 20:39:56.708 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 470.6222ms
2025-09-30 20:39:56.721 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 20:39:56.735 +05:30 [INF] ResponseBody: {"isSuccess":false,"message":"Registration failed","data":null,"errors":["Passwords must have at least one uppercase ('A'-'Z')."]}
2025-09-30 20:39:56.754 +05:30 [INF] Duration: 3528.5764ms
2025-09-30 20:39:56.761 +05:30 [INF] Request processed successfully.
2025-09-30 20:39:56.771 +05:30 [INF] HTTP POST /api/Auth/register responded 400 in 3743.7374 ms
2025-09-30 20:39:56.795 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 400 null application/json; charset=utf-8 3784.7778ms
2025-09-30 20:40:05.293 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5145/api/Auth/register - application/json 84
2025-09-30 20:40:05.311 +05:30 [INF] CORS policy execution successful.
2025-09-30 20:40:05.325 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 20:40:05.335 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Connection: keep-alive
Host: localhost:5145
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 84
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 20:40:05.354 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 20:40:05.362 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 20:40:05.388 +05:30 [INF] RequestBody: {
  "email": "market@gmail.com",
  "password": "Market@123",
  "role": "Marketing"
}
2025-09-30 20:40:05.453 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 20:40:05.810 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 20:40:06.433 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-09-30 20:40:06.493 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 20:40:06.543 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 20:40:06.687 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-30 20:40:06.720 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 20:40:06.782 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 20:40:06.982 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-09-30 20:40:07.234 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-30 20:40:08.280 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 2902.81ms
2025-09-30 20:40:08.294 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 20:40:08.308 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 20:40:08.315 +05:30 [INF] Duration: 2980.8857ms
2025-09-30 20:40:08.715 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'HS256' requires a key size of at least '128' bits. Key '[PII of type 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', is of size: '56'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at AuthService.GenerateTokensAsync(ApplicationUser user) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 181
   at AuthService.RegisterAsync(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 64
   at AuthController.Register(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\AuthController.cs:line 20
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 20:40:08.956 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 3646.7668 ms
2025-09-30 20:40:08.966 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5145/api/Auth/register - 500 null application/json 3673.6182ms
2025-09-30 21:00:11.619 +05:30 [INF] Executed DbCommand (394ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:00:12.037 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:00:12.049 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:00:12.446 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 21:00:13.022 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger - null null
2025-09-30 21:00:13.339 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 21:00:13.341 +05:30 [INF] Hosting environment: Development
2025-09-30 21:00:13.341 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 21:00:13.592 +05:30 [INF] HTTP GET /swagger responded 301 in 31.5426 ms
2025-09-30 21:00:13.708 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/index.html - null null
2025-09-30 21:00:13.738 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger - 301 null null 750.008ms
2025-09-30 21:00:14.011 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 281.1573 ms
2025-09-30 21:00:14.015 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/index.html - 200 null text/html;charset=utf-8 307.6162ms
2025-09-30 21:00:14.056 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/swagger-ui.css - null null
2025-09-30 21:00:14.063 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/swagger-ui-standalone-preset.js - null null
2025-09-30 21:00:14.073 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/swagger-ui-bundle.js - null null
2025-09-30 21:00:14.174 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-09-30 21:00:14.175 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-09-30 21:00:14.175 +05:30 [INF] HTTP GET /swagger/swagger-ui.css responded 200 in 117.9453 ms
2025-09-30 21:00:14.175 +05:30 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 200 in 101.8993 ms
2025-09-30 21:00:14.195 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/swagger-ui.css - 200 152034 text/css 139.533ms
2025-09-30 21:00:14.195 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 132.1475ms
2025-09-30 21:00:14.197 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 21:00:14.209 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 9.8422ms
2025-09-30 21:00:14.221 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-09-30 21:00:14.221 +05:30 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 200 in 147.3755 ms
2025-09-30 21:00:14.226 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/_vs/browserLink - null null
2025-09-30 21:00:14.295 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 222.1798ms
2025-09-30 21:00:14.332 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/_vs/browserLink - 200 null text/javascript; charset=UTF-8 106.1321ms
2025-09-30 21:00:14.631 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/v1/swagger.json - null null
2025-09-30 21:00:14.659 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/favicon-32x32.png - null null
2025-09-30 21:00:14.662 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-09-30 21:00:14.663 +05:30 [INF] HTTP GET /swagger/favicon-32x32.png responded 200 in 3.2608 ms
2025-09-30 21:00:14.664 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/favicon-32x32.png - 200 628 image/png 4.7153ms
2025-09-30 21:00:14.724 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 92.2531 ms
2025-09-30 21:00:14.728 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.9835ms
2025-09-30 21:00:22.975 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:56335/api/Auth/register - application/json 67
2025-09-30 21:00:22.979 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 21:00:23.004 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:00:23.056 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 21:00:23.078 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Connection: keep-alive
Content-Length: 67
Content-Type: application/json
Host: localhost:56335
Referer: [Redacted]
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Origin: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 21:00:25.803 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 21:00:25.841 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 21:00:25.867 +05:30 [INF] RequestBody: {
  "email": "string",
  "password": "string",
  "role": "string"
}
2025-09-30 21:00:25.980 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 21:00:25.988 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'PromoPilot.Application.DTOs.Common.ApiResponse`1[[PromoPilot.Application.DTOs.Auth.AuthResponse, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 21:00:25.992 +05:30 [INF] Response:
StatusCode: 400
Content-Type: application/json; charset=utf-8
2025-09-30 21:00:26.005 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 158.815ms
2025-09-30 21:00:26.006 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 21:00:26.007 +05:30 [INF] ResponseBody: {"isSuccess":false,"message":"Registration failed","data":null,"errors":["Passwords must have at least one non alphanumeric character.","Passwords must have at least one digit ('0'-'9').","Passwords must have at least one uppercase ('A'-'Z')."]}
2025-09-30 21:00:26.009 +05:30 [INF] Duration: 2940.8235ms
2025-09-30 21:00:26.010 +05:30 [INF] Request processed successfully.
2025-09-30 21:00:26.010 +05:30 [INF] HTTP POST /api/Auth/register responded 400 in 3034.7014 ms
2025-09-30 21:00:26.019 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:56335/api/Auth/register - 400 null application/json; charset=utf-8 3043.9943ms
2025-09-30 21:00:39.139 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:56335/api/Auth/register - application/json 72
2025-09-30 21:00:39.141 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:00:39.144 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 21:00:39.144 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Connection: keep-alive
Content-Length: 72
Content-Type: application/json
Host: localhost:56335
Referer: [Redacted]
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Origin: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 21:00:39.145 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 21:00:39.146 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 21:00:39.150 +05:30 [INF] RequestBody: {
  "email": "string",
  "password": "Finance@123",
  "role": "string"
}
2025-09-30 21:00:39.180 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 21:00:39.343 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 21:00:39.473 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-09-30 21:00:39.488 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:00:39.496 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:00:39.538 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2025-09-30 21:00:39.557 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 21:00:39.620 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-30 21:00:39.630 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 21:00:39.651 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 21:00:39.707 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-09-30 21:00:39.810 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-30 21:00:40.640 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 1494.4045ms
2025-09-30 21:00:40.642 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 21:00:40.645 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 21:00:40.646 +05:30 [INF] Duration: 1501.583ms
2025-09-30 21:00:40.978 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'HS256' requires a key size of at least '128' bits. Key '[PII of type 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', is of size: '56'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at AuthService.GenerateTokensAsync(ApplicationUser user) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 181
   at AuthService.RegisterAsync(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 64
   at AuthController.Register(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\AuthController.cs:line 20
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 21:00:41.109 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 1968.9253 ms
2025-09-30 21:00:41.110 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:56335/api/Auth/register - 500 null application/json 1970.3675ms
2025-09-30 21:16:31.723 +05:30 [INF] Executed DbCommand (450ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:16:32.261 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:16:32.272 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:16:32.685 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 21:16:33.284 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/index.html - null null
2025-09-30 21:16:33.763 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 21:16:33.765 +05:30 [INF] Hosting environment: Development
2025-09-30 21:16:33.765 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 21:16:34.398 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 448.5572 ms
2025-09-30 21:16:34.443 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/index.html - 200 null text/html;charset=utf-8 1164.8263ms
2025-09-30 21:16:34.896 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 21:16:34.919 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 16.7973ms
2025-09-30 21:16:34.921 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/_vs/browserLink - null null
2025-09-30 21:16:35.066 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/_vs/browserLink - 200 null text/javascript; charset=UTF-8 144.186ms
2025-09-30 21:16:35.402 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/v1/swagger.json - null null
2025-09-30 21:16:35.499 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 96.2029 ms
2025-09-30 21:16:35.511 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 109.0632ms
2025-09-30 21:17:44.153 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:56335/api/Auth/register - application/json 88
2025-09-30 21:17:44.160 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 21:17:44.162 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:17:44.218 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 21:17:44.244 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Connection: keep-alive
Content-Length: 88
Content-Type: application/json
Host: localhost:56335
Referer: [Redacted]
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Origin: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 21:17:46.057 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 21:17:46.079 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 21:17:46.097 +05:30 [INF] RequestBody: {
  
  "email": "market@gmail.com",
  "password": "Market@123",
  "role": "Marketing"

}
2025-09-30 21:17:46.203 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 21:17:46.258 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'PromoPilot.Application.DTOs.Common.ApiResponse`1[[PromoPilot.Application.DTOs.Auth.AuthResponse, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 21:17:46.265 +05:30 [INF] Response:
StatusCode: 400
Content-Type: application/json; charset=utf-8
2025-09-30 21:17:46.271 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 188.5778ms
2025-09-30 21:17:46.272 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 21:17:46.274 +05:30 [INF] ResponseBody: {"isSuccess":false,"message":"Registration failed","data":null,"errors":["Email 'market@gmail.com' is already registered."]}
2025-09-30 21:17:46.276 +05:30 [INF] Duration: 2035.6709ms
2025-09-30 21:17:46.277 +05:30 [INF] Request processed successfully.
2025-09-30 21:17:46.277 +05:30 [INF] HTTP POST /api/Auth/register responded 400 in 2124.1542 ms
2025-09-30 21:17:46.283 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:56335/api/Auth/register - 400 null application/json; charset=utf-8 2130.1369ms
2025-09-30 21:41:26.582 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:41:26.699 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:41:26.702 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:41:26.794 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 21:41:26.948 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/index.html - null null
2025-09-30 21:41:27.025 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 21:41:27.025 +05:30 [INF] Hosting environment: Development
2025-09-30 21:41:27.026 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 21:41:27.203 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 101.0940 ms
2025-09-30 21:41:27.222 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/index.html - 200 null text/html;charset=utf-8 274.3259ms
2025-09-30 21:41:27.225 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 21:41:27.231 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 5.2663ms
2025-09-30 21:41:27.242 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/_vs/browserLink - null null
2025-09-30 21:41:27.286 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.841ms
2025-09-30 21:41:27.343 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/v1/swagger.json - null null
2025-09-30 21:41:27.355 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 11.5886 ms
2025-09-30 21:41:27.356 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.8909ms
2025-09-30 21:42:38.041 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:56335/api/Auth/register - application/json 85
2025-09-30 21:42:38.064 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 21:42:38.069 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:42:38.247 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 21:42:38.275 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Connection: keep-alive
Content-Length: 85
Content-Type: application/json
Host: localhost:56335
Referer: [Redacted]
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Origin: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 21:42:41.482 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 21:42:41.581 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 21:42:41.697 +05:30 [INF] RequestBody: {
  "email": "store@gmail.com",
  "password": "Store@234",
  "role": "StoreManager"
}
2025-09-30 21:42:42.154 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 21:42:42.553 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 21:42:43.259 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-09-30 21:42:43.330 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:42:43.370 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 21:42:43.535 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-30 21:42:43.557 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 21:42:43.619 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 21:42:43.831 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-09-30 21:42:44.128 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-30 21:42:45.286 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 3690.0822ms
2025-09-30 21:42:45.292 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 21:42:45.313 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 21:42:45.326 +05:30 [INF] Duration: 7054.8492ms
2025-09-30 21:42:45.793 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
System.ArgumentOutOfRangeException: IDX10720: Unable to create KeyedHashAlgorithm for algorithm 'HS256', the key size must be greater than: '256' bits, key has '184' bits. (Parameter 'keyBytes')
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.ValidateKeySize(Byte[] keyBytes, String algorithm, Int32 expectedNumberOfBytes)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.CreateKeyedHashAlgorithm()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.CreateInstance()
   at Microsoft.IdentityModel.Tokens.DisposableObjectPool`1.Allocate()
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.GetKeyedHashAlgorithm(Byte[] keyBytes, String algorithm)
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider.Sign(Byte[] input)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.WriteToken(SecurityToken token)
   at AuthService.GenerateTokensAsync(ApplicationUser user) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 184
   at AuthService.RegisterAsync(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 67
   at AuthController.Register(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\AuthController.cs:line 20
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 21:42:45.998 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 7955.2747 ms
2025-09-30 21:42:46.018 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:56335/api/Auth/register - 500 null application/json 7976.9503ms
2025-09-30 21:53:11.114 +05:30 [INF] Executed DbCommand (331ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:53:11.543 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:53:11.553 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:53:11.775 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 21:53:12.044 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/index.html - null null
2025-09-30 21:53:12.408 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 21:53:12.409 +05:30 [INF] Hosting environment: Development
2025-09-30 21:53:12.410 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 21:53:12.673 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 287.1411 ms
2025-09-30 21:53:12.697 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/index.html - 200 null text/html;charset=utf-8 656.0195ms
2025-09-30 21:53:13.068 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 21:53:13.083 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/_vs/browserLink - null null
2025-09-30 21:53:13.085 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 14.9283ms
2025-09-30 21:53:13.174 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/_vs/browserLink - 200 null text/javascript; charset=UTF-8 90.544ms
2025-09-30 21:53:13.218 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/v1/swagger.json - null null
2025-09-30 21:53:13.282 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 63.7671 ms
2025-09-30 21:53:13.285 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 67.58ms
2025-09-30 21:54:06.496 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:56335/api/Auth/register - application/json 84
2025-09-30 21:54:06.528 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 21:54:06.533 +05:30 [INF] CORS policy execution successful.
2025-09-30 21:54:06.714 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 21:54:06.739 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Connection: keep-alive
Content-Length: 84
Content-Type: application/json
Host: localhost:56335
Referer: [Redacted]
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Origin: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 21:54:10.160 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 21:54:10.248 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 21:54:10.350 +05:30 [INF] RequestBody: {
  "email": "finance@gmail.com",
  "password": "Finance@234",
  "role": "Finance"
}
2025-09-30 21:54:10.712 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 21:54:11.115 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 21:54:11.755 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-09-30 21:54:11.815 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 21:54:11.845 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 21:54:12.001 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-30 21:54:12.021 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 21:54:12.082 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 21:54:12.267 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-09-30 21:54:12.490 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-30 21:54:13.059 +05:30 [ERR] Failed executing DbCommand (57ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
INSERT INTO [RefreshTokens] ([Expires], [IsRevoked], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p15, @p16, @p17, @p18);
2025-09-30 21:54:13.143 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'PromoPilot.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8815a370-a220-4f19-9f71-cc02bf05aeca
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8815a370-a220-4f19-9f71-cc02bf05aeca
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-30 21:54:13.873 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 3611.5307ms
2025-09-30 21:54:13.879 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 21:54:13.892 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 21:54:13.904 +05:30 [INF] Duration: 7167.0841ms
2025-09-30 21:54:14.316 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8815a370-a220-4f19-9f71-cc02bf05aeca
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AuthService.GenerateTokensAsync(ApplicationUser user) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 195
   at AuthService.RegisterAsync(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 67
   at AuthController.Register(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\AuthController.cs:line 20
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 21:54:14.459 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 7959.3676 ms
2025-09-30 21:54:14.474 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:56335/api/Auth/register - 500 null application/json 7977.9221ms
2025-09-30 22:13:44.174 +05:30 [INF] Executed DbCommand (477ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 22:13:44.738 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 22:13:44.752 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 22:13:45.257 +05:30 [INF] User profile is available. Using 'C:\Users\2436730\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-30 22:13:46.035 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/index.html - null null
2025-09-30 22:13:46.566 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-09-30 22:13:46.568 +05:30 [INF] Hosting environment: Development
2025-09-30 22:13:46.569 +05:30 [INF] Content root path: C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API
2025-09-30 22:13:47.300 +05:30 [INF] HTTP GET /swagger/index.html responded 200 in 487.5008 ms
2025-09-30 22:13:47.338 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/index.html - 200 null text/html;charset=utf-8 1350.247ms
2025-09-30 22:13:47.922 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/_vs/browserLink - null null
2025-09-30 22:13:47.922 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/_framework/aspnetcore-browser-refresh.js - null null
2025-09-30 22:13:47.951 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 25.011ms
2025-09-30 22:13:48.097 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/_vs/browserLink - 200 null text/javascript; charset=UTF-8 175.5864ms
2025-09-30 22:13:48.230 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:56335/swagger/v1/swagger.json - null null
2025-09-30 22:13:48.326 +05:30 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 95.0190 ms
2025-09-30 22:13:48.333 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:56335/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.1385ms
2025-09-30 22:15:48.967 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:56335/api/Auth/register - application/json 85
2025-09-30 22:15:49.003 +05:30 [WRN] Failed to determine the https port for redirect.
2025-09-30 22:15:49.007 +05:30 [INF] CORS policy execution successful.
2025-09-30 22:15:49.185 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 22:15:49.209 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Connection: keep-alive
Content-Length: 85
Content-Type: application/json
Host: localhost:56335
Referer: [Redacted]
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Origin: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 22:15:52.426 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 22:15:52.540 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 22:15:52.648 +05:30 [INF] RequestBody: {
  "email": "store@gmail.com",
  "password": "Store@123",
  "role": "StoreManager"
}
2025-09-30 22:15:53.016 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 22:15:53.273 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'PromoPilot.Application.DTOs.Common.ApiResponse`1[[PromoPilot.Application.DTOs.Auth.AuthResponse, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 22:15:53.306 +05:30 [INF] Response:
StatusCode: 400
Content-Type: application/json; charset=utf-8
2025-09-30 22:15:53.332 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 776.5727ms
2025-09-30 22:15:53.337 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 22:15:53.346 +05:30 [INF] ResponseBody: {"isSuccess":false,"message":"Registration failed","data":null,"errors":["Email 'store@gmail.com' is already registered."]}
2025-09-30 22:15:53.359 +05:30 [INF] Duration: 4149.1027ms
2025-09-30 22:15:53.362 +05:30 [INF] Request processed successfully.
2025-09-30 22:15:53.367 +05:30 [INF] HTTP POST /api/Auth/register responded 400 in 4398.7741 ms
2025-09-30 22:15:53.384 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:56335/api/Auth/register - 400 null application/json; charset=utf-8 4417.3958ms
2025-09-30 22:16:28.041 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:56335/api/Auth/login - application/json 59
2025-09-30 22:16:28.047 +05:30 [INF] CORS policy execution successful.
2025-09-30 22:16:28.066 +05:30 [INF] Processing request: /api/Auth/login
2025-09-30 22:16:28.068 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/login
Accept: */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Connection: keep-alive
Content-Length: 59
Content-Type: application/json
Host: localhost:56335
Referer: [Redacted]
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Origin: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 22:16:28.078 +05:30 [INF] Executing endpoint 'AuthController.Login (PromoPilot.API)'
2025-09-30 22:16:28.095 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(PromoPilot.Application.DTOs.Auth.LoginRequest) on controller AuthController (PromoPilot.API).
2025-09-30 22:16:28.120 +05:30 [INF] RequestBody: {
  "email": "store@gmail.com",
  "password": "Store@123"
}
2025-09-30 22:16:28.199 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 22:16:28.528 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'PromoPilot.Application.DTOs.Common.ApiResponse`1[[PromoPilot.Application.DTOs.Auth.AuthResponse, PromoPilot.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-30 22:16:28.529 +05:30 [INF] Response:
StatusCode: 401
Content-Type: application/json; charset=utf-8
2025-09-30 22:16:28.534 +05:30 [INF] Executed action AuthController.Login (PromoPilot.API) in 438.1393ms
2025-09-30 22:16:28.535 +05:30 [INF] Executed endpoint 'AuthController.Login (PromoPilot.API)'
2025-09-30 22:16:28.536 +05:30 [INF] ResponseBody: {"isSuccess":false,"message":"Login failed","data":null,"errors":["Invalid credentials"]}
2025-09-30 22:16:28.536 +05:30 [INF] Duration: 468.8426ms
2025-09-30 22:16:28.536 +05:30 [INF] Request processed successfully.
2025-09-30 22:16:28.537 +05:30 [INF] HTTP POST /api/Auth/login responded 401 in 493.8265 ms
2025-09-30 22:16:28.540 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:56335/api/Auth/login - 401 null application/json; charset=utf-8 498.0064ms
2025-09-30 22:16:47.538 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:56335/api/Auth/register - application/json 86
2025-09-30 22:16:47.542 +05:30 [INF] CORS policy execution successful.
2025-09-30 22:16:47.543 +05:30 [INF] Processing request: /api/Auth/register
2025-09-30 22:16:47.544 +05:30 [INF] Request:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Auth/register
Accept: */*
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: en-US,en;q=0.9
Connection: keep-alive
Content-Length: 86
Content-Type: application/json
Host: localhost:56335
Referer: [Redacted]
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36
sec-ch-ua-platform: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
Origin: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
2025-09-30 22:16:47.559 +05:30 [INF] Executing endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 22:16:47.560 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(PromoPilot.Application.DTOs.Auth.RegisterRequest) on controller AuthController (PromoPilot.API).
2025-09-30 22:16:47.609 +05:30 [INF] RequestBody: {
  "email": "store1@gmail.com",
  "password": "Store@123",
  "role": "StoreManager"
}
2025-09-30 22:16:47.634 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-09-30 22:16:47.925 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 22:16:48.375 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-09-30 22:16:48.442 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-09-30 22:16:48.476 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 22:16:48.621 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-09-30 22:16:48.640 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-09-30 22:16:48.696 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-30 22:16:48.848 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2025-09-30 22:16:49.044 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-30 22:16:49.500 +05:30 [ERR] Failed executing DbCommand (22ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 4000), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Expires], [IsRevoked], [Token], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2025-09-30 22:16:49.566 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'PromoPilot.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c55e337a-c92b-4ca9-bb8f-a6f12f8685c7
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c55e337a-c92b-4ca9-bb8f-a6f12f8685c7
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-09-30 22:16:50.278 +05:30 [INF] Executed action AuthController.Register (PromoPilot.API) in 2716.4614ms
2025-09-30 22:16:50.281 +05:30 [INF] Executed endpoint 'AuthController.Register (PromoPilot.API)'
2025-09-30 22:16:50.288 +05:30 [INF] Response:
StatusCode: 200
2025-09-30 22:16:50.288 +05:30 [INF] Duration: 2744.1326ms
2025-09-30 22:16:50.686 +05:30 [ERR] Unhandled exception occurred while processing request: /api/Auth/register
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'RefreshTokens'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c55e337a-c92b-4ca9-bb8f-a6f12f8685c7
Error Number:208,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at AuthService.GenerateTokensAsync(ApplicationUser user) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 195
   at AuthService.RegisterAsync(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.Infrastructure\Services\AuthService.cs:line 67
   at AuthController.Register(RegisterRequest request) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Controllers\AuthController.cs:line 20
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\2436730\source\repos\PromoPilot\PromoPilot.API\Middleware\ExceptionHandlingMiddleware.cs:line 23
2025-09-30 22:16:50.862 +05:30 [ERR] HTTP POST /api/Auth/register responded 500 in 3322.5017 ms
2025-09-30 22:16:50.863 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:56335/api/Auth/register - 500 null application/json 3325.618ms
